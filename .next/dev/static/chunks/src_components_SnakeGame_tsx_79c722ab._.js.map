{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/louis/Desktop/snakeidle/src/components/SnakeGame.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback, useRef } from \"react\";\n\n// Types pour le jeu\ntype Direction = \"UP\" | \"DOWN\" | \"LEFT\" | \"RIGHT\";\ntype Position = { x: number; y: number };\ntype GameState = \"playing\" | \"gameOver\" | \"idle\";\n\n// Types pour les am√©liorations\ntype Upgrade = {\n  id: string;\n  name: string;\n  description: string;\n  baseCost: number;\n  level: number;\n  maxLevel: number;\n  unlocked: boolean;\n  requiredLevel?: string; // ID de l'am√©lioration requise\n  requiredLevelValue?: number; // Niveau requis\n  effect: () => void;\n  position?: { x: number; y: number }; // Position dans l'arbre\n};\n\nconst INITIAL_GRID_SIZE = 4;\nconst CELL_SIZE = 80;\nconst INITIAL_SPEED = 500; // ms between moves\n\nexport default function SnakeGame() {\n  // √âtat du jeu principal\n  const [gameState, setGameState] = useState<GameState>(\"idle\");\n  const [totalPoints, setTotalPoints] = useState(0);\n  const [currentPoints, setCurrentPoints] = useState(0);\n  const [healthPoints, setHealthPoints] = useState(10); // Points de vie du serpent\n  const [healthBonus, setHealthBonus] = useState(0); // Bonus de PV des am√©liorations\n  const [highScore, setHighScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(30); // 30 secondes\n  const [baseTime, setBaseTime] = useState(30); // Temps de base pouvant √™tre am√©lior√©\n  const pointsAddedRef = useRef(false); // Pour √©viter le double comptage\n  const [isMounted, setIsMounted] = useState(false); // Pour g√©rer l'hydratation\n\n  // √âtat du snake\n  const [snake, setSnake] = useState<Position[]>([{ x: 1, y: 1 }]);\n  const [direction, setDirection] = useState<Direction>(\"RIGHT\");\n  const [food, setFood] = useState<Position>({ x: 2, y: 2 });\n  const [blueFruit, setBlueFruit] = useState<Position | null>(null); // Position du fruit bleu\n  const [isBlueFruitActive, setIsBlueFruitActive] = useState(false); // Pour afficher le fruit bleu\n\n  // √âtat du mode d√©veloppeur\n  const [isDevMode, setIsDevMode] = useState(false);\n  const [devPassword, setDevPassword] = useState(\"\");\n  const [devPoints, setDevPoints] = useState(\"\");\n\n  // Fonction pour calculer la taille de la grille selon la progression\n  const getGridDimensions = (level: number) => {\n    const evenLevel = Math.floor(level / 2);\n    const oddLevel = level % 2;\n\n    // Niveau 0: 4x4\n    // Niveau 1: 4x5\n    // Niveau 2: 5x5\n    // Niveau 3: 5x6\n    // Niveau 4: 6x6\n    // Niveau 5: 6x7\n    // etc.\n    const baseSize = 4;\n    const width = baseSize + evenLevel;\n    const height = baseSize + evenLevel + oddLevel;\n\n    return { width, height };\n  };\n\n  // √âtat des dimensions de grille (s√©par√©es pour largeur/hauteur)\n  const [gridWidth, setGridWidth] = useState(4);\n  const [gridHeight, setGridHeight] = useState(4);\n\n  // R√©f√©rences pour √©viter les recr√©ations de useEffect\n  const directionRef = useRef<Direction>(\"RIGHT\");\n  const snakeRef = useRef<Position[]>([{ x: 1, y: 1 }]);\n\n  // Synchroniser les r√©f√©rences avec l'√©tat\n  useEffect(() => {\n    snakeRef.current = snake;\n  }, [snake]);\n\n  useEffect(() => {\n    directionRef.current = direction;\n  }, [direction]);\n\n  // √âtat des onglets et am√©liorations\n  const [activeTab, setActiveTab] = useState<\"game\" | \"upgrades\">(\"game\");\n  const [appleValue, setAppleValue] = useState(1);\n  const [timeBonus, setTimeBonus] = useState(0); // Bonus de temps additionnel\n  const [speedBonus, setSpeedBonus] = useState(0); // Bonus de vitesse en pourcentage\n  const [blueFruitBonus, setBlueFruitBonus] = useState(0); // Bonus du fruit bleu\n  const [savedUpgrades, setSavedUpgrades] = useState<Upgrade[]>([]); // Am√©liorations sauvegard√©es\n  const [upgrades, setUpgrades] = useState<Upgrade[]>([\n    {\n      id: \"appleValue\",\n      name: \"Valeur des Pommes\",\n      description: \"Augmente la valeur de chaque pomme r√©colt√©e\",\n      baseCost: 10,\n      level: 0,\n      maxLevel: 20,\n      unlocked: true,\n      position: { x: 1, y: 1 },\n      effect: () => {},\n    },\n    {\n      id: \"healthBonus\",\n      name: \"Points de Vie\",\n      description: \"Augmente les PV de d√©part du serpent\",\n      baseCost: 10,\n      level: 0,\n      maxLevel: 20,\n      unlocked: true,\n      position: { x: 1, y: 3 },\n      effect: () => {},\n    },\n    {\n      id: \"timeBonus\",\n      name: \"Bonus Temps\",\n      description: \"+2 secondes par partie\",\n      baseCost: 50,\n      level: 0,\n      maxLevel: 10,\n      unlocked: false,\n      requiredLevel: \"appleValue\",\n      requiredLevelValue: 3,\n      position: { x: -1, y: 1 },\n      effect: () => {},\n    },\n    {\n      id: \"gridSize\",\n      name: \"Taille de la Grille\",\n      description: \"Agrandit le terrain de jeu\",\n      baseCost: 25,\n      level: 0,\n      maxLevel: 6, // 4x4 -> 5x5 -> 6x6 -> 7x7 -> 8x8 -> 9x9 -> 10x10\n      unlocked: false,\n      requiredLevel: \"appleValue\",\n      requiredLevelValue: 3,\n      position: { x: 3, y: 1 },\n      effect: () => {},\n    },\n    {\n      id: \"speedBonus\",\n      name: \"Vitesse\",\n      description: \"Augmente la vitesse du serpent de 5%\",\n      baseCost: 100,\n      level: 0,\n      maxLevel: 15,\n      unlocked: false,\n      requiredLevel: \"gridSize\",\n      requiredLevelValue: 1, // D√©bloqu√© √† 5x5\n      position: { x: 1, y: 5 },\n      effect: () => {},\n    },\n    {\n      id: \"blueFruit\",\n      name: \"Fruit Bleu\",\n      description: \"Ajoute 1 PV et 2 secondes par partie\",\n      baseCost: 200,\n      level: 0,\n      maxLevel: 10,\n      unlocked: false,\n      requiredLevel: \"gridSize\",\n      requiredLevelValue: 2, // D√©bloqu√© √† 6x6\n      position: { x: 3, y: 3 },\n      effect: () => {},\n    },\n  ]);\n\n  // G√©rer le montage du composant\n  useEffect(() => {\n    setIsMounted(true);\n    // Initialiser la nourriture al√©atoirement seulement c√¥t√© client\n    const initialSnake = [{ x: 1, y: 1 }];\n    setFood(generateRandomFood(initialSnake) || { x: 2, y: 2 });\n  }, []);\n\n  // V√©rifier les d√©verrouillages d'am√©liorations\n  const checkUnlocks = useCallback((updatedUpgrades: Upgrade[]) => {\n    return updatedUpgrades.map((upgrade) => {\n      if (\n        !upgrade.unlocked &&\n        upgrade.requiredLevel &&\n        upgrade.requiredLevelValue\n      ) {\n        const requiredUpgrade = updatedUpgrades.find(\n          (u) => u.id === upgrade.requiredLevel,\n        );\n        if (\n          requiredUpgrade &&\n          requiredUpgrade.level >= upgrade.requiredLevelValue\n        ) {\n          return { ...upgrade, unlocked: true };\n        }\n      }\n      return upgrade;\n    });\n  }, []);\n\n  // Calculer le co√ªt d'une am√©lioration en fonction de son niveau\n  const getUpgradeCost = useCallback(\n    (baseCost: number, level: number): number => {\n      return Math.floor(baseCost * Math.pow(1.5, level));\n    },\n    [],\n  );\n\n  // Acheter une am√©lioration\n  const buyUpgrade = useCallback(\n    (upgradeId: string) => {\n      setUpgrades((prevUpgrades) => {\n        const upgrade = prevUpgrades.find((u) => u.id === upgradeId);\n        if (!upgrade || upgrade.level >= upgrade.maxLevel || !upgrade.unlocked)\n          return prevUpgrades;\n\n        const currentCost = getUpgradeCost(upgrade.baseCost, upgrade.level);\n\n        // V√©rifier si on a assez de points dans le total accumul√© uniquement\n        if (totalPoints < currentCost) return prevUpgrades;\n\n        // Appliquer l'am√©lioration d'abord\n        const updatedUpgrades = prevUpgrades.map((u) => {\n          if (u.id === upgradeId) {\n            const newLevel = u.level + 1;\n\n            if (upgradeId === \"appleValue\") {\n              setAppleValue(1 + newLevel);\n            } else if (upgradeId === \"healthBonus\") {\n              setHealthBonus(newLevel); // +1 PV par niveau\n            } else if (upgradeId === \"gridSize\") {\n              const dimensions = getGridDimensions(newLevel);\n              setGridWidth(dimensions.width);\n              setGridHeight(dimensions.height);\n              // R√©initialiser la partie si en cours\n              if (gameState === \"playing\") {\n                setGameState(\"idle\");\n                setActiveTab(\"game\"); // Retourner √† l'onglet jeu\n              }\n            } else if (upgradeId === \"timeBonus\") {\n              setTimeBonus(newLevel * 2); // +2 secondes par niveau\n            } else if (upgradeId === \"speedBonus\") {\n              setSpeedBonus(newLevel * 5); // +5% de vitesse par niveau\n            } else if (upgradeId === \"blueFruit\") {\n              setBlueFruitBonus(newLevel * 1); // +1 PV par niveau\n              setTimeBonus((prev) => prev + newLevel * 2); // +2 secondes par niveau\n              setIsBlueFruitActive(true); // Activer l'affichage du fruit bleu\n            }\n\n            return { ...u, level: newLevel };\n          }\n          return u;\n        });\n\n        // V√©rifier les d√©verrouillages\n        return checkUnlocks(updatedUpgrades);\n      });\n\n      // D√©duire les points du total accumul√© uniquement (apr√®s la mise √† jour)\n      const upgrade = upgrades.find((u) => u.id === upgradeId);\n      if (upgrade) {\n        const currentCost = getUpgradeCost(upgrade.baseCost, upgrade.level);\n        setTotalPoints((prev) => Math.max(0, prev - currentCost));\n      }\n    },\n    [totalPoints, getUpgradeCost, gameState, checkUnlocks],\n  );\n\n  // Sauvegarder les am√©liorations actuelles\n  const saveUpgrades = useCallback(() => {\n    const currentUpgradesData = upgrades.map((u) => ({\n      id: u.id,\n      name: u.name,\n      description: u.description,\n      baseCost: u.baseCost,\n      level: u.level,\n      maxLevel: u.maxLevel,\n      unlocked: u.unlocked,\n      requiredLevel: u.requiredLevel,\n      requiredLevelValue: u.requiredLevelValue,\n      position: u.position,\n      effect: () => {}, // Fonction vide placeholder pour la sauvegarde\n    }));\n\n    setSavedUpgrades(currentUpgradesData);\n\n    // Cr√©er et t√©l√©charger le fichier JSON\n    const dataStr = JSON.stringify(\n      {\n        savedUpgrades: currentUpgradesData,\n        gameState: {\n          appleValue,\n          healthBonus,\n          timeBonus,\n          speedBonus,\n          blueFruitBonus,\n          isBlueFruitActive,\n          gridWidth,\n          gridHeight,\n          totalPoints,\n          highScore,\n        },\n        timestamp: new Date().toISOString(),\n      },\n      null,\n      2,\n    );\n\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `snake_idle_upgrades_${Date.now()}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  }, [upgrades, appleValue, timeBonus, gridWidth, gridHeight, totalPoints, highScore]);\n\n  // Charger les am√©liorations depuis un fichier\n  const loadUpgrades = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const file = event.target.files?.[0];\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const data = JSON.parse(e.target?.result as string);\n\n          if (data.savedUpgrades && Array.isArray(data.savedUpgrades)) {\n            setSavedUpgrades(data.savedUpgrades);\n\n            // Restaurer l'√©tat du jeu si disponible\n            if (data.gameState) {\n              setAppleValue(data.gameState.appleValue || 1);\n              setHealthBonus(data.gameState.healthBonus || 0);\n              setTimeBonus(data.gameState.timeBonus || 0);\n              setSpeedBonus(data.gameState.speedBonus || 0);\n              setBlueFruitBonus(data.gameState.blueFruitBonus || 0);\n              setIsBlueFruitActive(data.gameState.isBlueFruitActive || false);\n              setGridWidth(data.gameState.gridWidth || INITIAL_GRID_SIZE);\n              setGridHeight(data.gameState.gridHeight || INITIAL_GRID_SIZE);\n              setHighScore(data.gameState.highScore || 0);\n            }\n          }\n        } catch (error) {\n          console.error(\"Erreur lors du chargement des am√©liorations:\", error);\n          alert(\"Erreur: Le fichier de sauvegarde est invalide\");\n        }\n      };\n      reader.readAsText(file);\n    },\n    [],\n  );\n\n  // Appliquer les am√©liorations sauvegard√©es\n  const applySavedUpgrades = useCallback(() => {\n    if (savedUpgrades.length === 0) {\n      alert(\"Aucune am√©lioration sauvegard√©e √† appliquer\");\n      return;\n    }\n\n    // R√©initialiser tous les √©tats\n    setAppleValue(1);\n    setHealthBonus(0);\n    setTimeBonus(0);\n    setSpeedBonus(0);\n    setBlueFruitBonus(0);\n    setIsBlueFruitActive(false);\n    setGridWidth(INITIAL_GRID_SIZE);\n    setGridHeight(INITIAL_GRID_SIZE);\n\n    // Appliquer les am√©liorations sauvegard√©es\n    const newUpgrades = upgrades.map((baseUpgrade) => {\n      const savedUpgrade = savedUpgrades.find((s) => s.id === baseUpgrade.id);\n      if (savedUpgrade) {\n        const levelDiff = savedUpgrade.level - baseUpgrade.level;\n\n        // Appliquer les effets en fonction du niveau\n        if (baseUpgrade.id === \"appleValue\") {\n          setAppleValue((prev) => prev + levelDiff);\n        } else if (baseUpgrade.id === \"healthBonus\") {\n          setHealthBonus((prev) => prev + levelDiff);\n        } else if (baseUpgrade.id === \"timeBonus\") {\n          setTimeBonus((prev) => prev + savedUpgrade.level * 2);\n        } else if (baseUpgrade.id === \"speedBonus\") {\n          setSpeedBonus(savedUpgrade.level * 5);\n        } else if (baseUpgrade.id === \"blueFruit\") {\n          setBlueFruitBonus(savedUpgrade.level * 1);\n          setTimeBonus((prev) => prev + savedUpgrade.level * 2);\n          setIsBlueFruitActive(true);\n        } else if (baseUpgrade.id === \"gridSize\") {\n          const dimensions = getGridDimensions(savedUpgrade.level);\n          setGridWidth(dimensions.width);\n          setGridHeight(dimensions.height);\n        }\n\n        return savedUpgrade;\n      }\n      return baseUpgrade;\n    });\n\n    setUpgrades(newUpgrades);\n    setSavedUpgrades([]); // Vider les am√©liorations sauvegard√©es apr√®s application\n    alert(\"Am√©liorations appliqu√©es avec succ√®s!\");\n  }, [savedUpgrades, upgrades]);\n\n  // Fonctions du mode d√©veloppeur\n  const toggleDevMode = useCallback(() => {\n    if (isDevMode) {\n      setIsDevMode(false);\n      setDevPassword(\"\");\n    } else {\n      if (devPassword === \"dev\") {\n        setIsDevMode(true);\n        alert(\"Mode d√©veloppeur activ√© !\");\n      } else {\n        alert(\"Mot de passe incorrect !\");\n      }\n    }\n  }, [isDevMode, devPassword]);\n\n  const addDevPoints = useCallback(() => {\n    const points = parseInt(devPoints);\n    if (!isNaN(points) && points > 0) {\n      setTotalPoints(prev => prev + points);\n      setDevPoints(\"\");\n      alert(`${points} points ajout√©s !`);\n    } else {\n      alert(\"Veuillez entrer un nombre valide !\");\n    }\n  }, [devPoints]);\n\n  // G√©n√©rer une position al√©atoire pour la nourriture\n  const generateRandomFood = useCallback(\n    (currentSnake: Position[]): Position | null => {\n      // Cr√©er une liste de toutes les positions possibles\n      const availablePositions: Position[] = [];\n\n      for (let x = 0; x < gridWidth; x++) {\n        for (let y = 0; y < gridHeight; y++) {\n          const isOccupied = currentSnake.some(\n            (segment) => segment.x === x && segment.y === y,\n          );\n          if (!isOccupied) {\n            availablePositions.push({ x, y });\n          }\n        }\n      }\n\n      // S'il n'y a plus de place disponible, retourner null\n      if (availablePositions.length === 0) {\n        return null;\n      }\n\n      // Choisir une position al√©atoire parmi les positions disponibles\n      const randomIndex = Math.floor(Math.random() * availablePositions.length);\n      return availablePositions[randomIndex];\n    },\n    [gridWidth, gridHeight],\n  );\n\n  // G√©n√©rer le fruit bleu (en plus de la pomme rouge)\n  const generateBlueFruit = useCallback(\n    (currentSnake: Position[], foodPosition: Position): Position | null => {\n      if (!isBlueFruitActive) return null;\n\n      // Cr√©er une liste de toutes les positions possibles en excluant le serpent ET la pomme rouge\n      const availablePositions: Position[] = [];\n\n      for (let x = 0; x < gridWidth; x++) {\n        for (let y = 0; y < gridHeight; y++) {\n          const isOccupied = currentSnake.some(\n            (segment) => segment.x === x && segment.y === y\n          );\n          const isFood = foodPosition.x === x && foodPosition.y === y;\n\n          if (!isOccupied && !isFood) {\n            availablePositions.push({ x, y });\n          }\n        }\n      }\n\n      if (availablePositions.length === 0) return null;\n\n      // Choisir une position al√©atoire parmi les positions disponibles\n      const randomIndex = Math.floor(Math.random() * availablePositions.length);\n      return availablePositions[randomIndex];\n    },\n    [gridWidth, gridHeight, isBlueFruitActive],\n  );\n\n  // Initialiser le jeu\n  const startGame = () => {\n    const initialSnake = [{ x: 1, y: 1 }];\n    snakeRef.current = initialSnake;\n    directionRef.current = \"RIGHT\";\n    pointsAddedRef.current = false; // R√©initialiser le flag de points\n    setSnake(initialSnake);\n    setDirection(\"RIGHT\");\n\n    // G√©n√©rer la nourriture seulement si le composant est mont√©\n    const newFood = isMounted\n      ? generateRandomFood(initialSnake)\n      : { x: 2, y: 2 };\n    const foodPosition = newFood || { x: 2, y: 2 };\n    setFood(foodPosition);\n\n    // G√©n√©rer le fruit bleu si activ√©\n    const newBlueFruit = isMounted\n      ? generateBlueFruit(initialSnake, foodPosition)\n      : null;\n    setBlueFruit(newBlueFruit);\n\n    setCurrentPoints(0);\n    setHealthPoints(10 + healthBonus + blueFruitBonus); // R√©initialiser les PV avec le bonus + fruit bleu\n    setTimeLeft(baseTime + timeBonus); // Utiliser le temps de base + le bonus\n    setGameState(\"playing\");\n  };\n\n  // D√©placer le snake\n  const moveSnake = useCallback(() => {\n    if (gameState !== \"playing\") return;\n\n    const currentSnake = [...snakeRef.current];\n    const newSnake = [...currentSnake];\n    const head = { ...newSnake[0] };\n    const currentDirection = directionRef.current;\n\n    // D√©placer la t√™te selon la direction\n    switch (currentDirection) {\n      case \"UP\":\n        head.y -= 1;\n        break;\n      case \"DOWN\":\n        head.y += 1;\n        break;\n      case \"LEFT\":\n        head.x -= 1;\n        break;\n      case \"RIGHT\":\n        head.x += 1;\n        break;\n    }\n\n    // V√©rifier les collisions\n    // Collision avec les murs\n    if (head.x < 0 || head.x >= gridWidth || head.y < 0 || head.y >= gridHeight) {\n      setGameState(\"gameOver\");\n      return;\n    }\n\n    // Collision avec soi-m√™me\n    // On exclut le dernier segment car il va se d√©placer (cas o√π le serpent mange de la nourriture)\n    const segmentsToCheck =\n      newSnake.length > 1 ? newSnake.slice(0, -1) : newSnake;\n    if (\n      segmentsToCheck.some(\n        (segment) => segment.x === head.x && segment.y === head.y,\n      )\n    ) {\n      setGameState(\"gameOver\");\n      return;\n    }\n\n    newSnake.unshift(head);\n\n    // V√©rifier si le snake mange la nourriture (pomme rouge)\n    let ateFood = false;\n    if (head.x === food.x && head.y === food.y) {\n      setCurrentPoints((prev) => prev + appleValue);\n      setHealthPoints((prev) => {\n        const newHP = prev - 1;\n        if (newHP <= 0) {\n          setGameState(\"gameOver\");\n        }\n        return newHP;\n      }); // Le serpent perd 1 PV en mangeant une pomme\n      const newFoodPosition = generateRandomFood(newSnake);\n      if (newFoodPosition === null) {\n        // Plus de place pour la nourriture, le snake a gagn√© !\n        setGameState(\"gameOver\");\n        return;\n      }\n      setFood(newFoodPosition);\n      ateFood = true;\n    }\n\n    // V√©rifier si le snake mange le fruit bleu\n    let ateBlueFruit = false;\n    if (blueFruit && head.x === blueFruit.x && head.y === blueFruit.y) {\n      setCurrentPoints((prev) => prev + appleValue * 2); // Double les points\n      setHealthPoints((prev) => {\n        const newHP = prev + 1; // +1 PV au lieu de -1\n        return newHP;\n      }); // Le serpent gagne 1 PV avec le fruit bleu\n      const newBlueFruitPosition = generateBlueFruit(newSnake, food);\n      setBlueFruit(newBlueFruitPosition);\n      ateBlueFruit = true;\n    }\n\n    // Si le serpent n'a rien mang√©, il r√©tr√©cit\n    if (!ateFood && !ateBlueFruit) {\n      newSnake.pop();\n    }\n\n    snakeRef.current = newSnake;\n    setSnake(newSnake);\n  }, [food, blueFruit, gameState, generateRandomFood, generateBlueFruit, gridWidth, gridHeight, appleValue]);\n\n  // G√©rer la fin de partie\n  useEffect(() => {\n    if (gameState === \"gameOver\" && !pointsAddedRef.current) {\n      // currentPoints contient d√©j√† le score avec la valeur des pommes appliqu√©e\n      setTotalPoints((prev) => prev + currentPoints);\n      if (currentPoints > highScore) {\n        setHighScore(currentPoints);\n      }\n      pointsAddedRef.current = true; // Marquer que les points ont √©t√© ajout√©s\n    }\n  }, [gameState, currentPoints, highScore]);\n\n  // Game loop\n  useEffect(() => {\n    if (gameState !== \"playing\") return;\n\n    // Calculer la vitesse avec le bonus (plus le bonus est √©lev√©, plus l'intervalle est court)\n    const speedMultiplier = 1 - (speedBonus / 100); // 5% par niveau = 0.05 par niveau\n    const adjustedSpeed = Math.max(100, INITIAL_SPEED * speedMultiplier); // Minimum 100ms\n\n    const gameInterval = setInterval(moveSnake, adjustedSpeed);\n    return () => clearInterval(gameInterval);\n  }, [gameState, moveSnake, speedBonus]);\n\n  // Chronom√®tre\n  useEffect(() => {\n    if (gameState !== \"playing\") return;\n\n    const timerInterval = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 1) {\n          setGameState(\"gameOver\");\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000); // 1 seconde\n\n    return () => clearInterval(timerInterval);\n  }, [gameState]);\n\n  // G√©rer le fruit bleu quand le mode est activ√©/d√©sactiv√©\n  useEffect(() => {\n    if (isBlueFruitActive && gameState === \"playing\" && !blueFruit) {\n      // G√©n√©rer le fruit bleu si le mode est activ√© et qu'il n'y en a pas\n      const newBlueFruit = generateBlueFruit(snake, food);\n      setBlueFruit(newBlueFruit);\n    } else if (!isBlueFruitActive && blueFruit) {\n      // Retirer le fruit bleu si le mode est d√©sactiv√©\n      setBlueFruit(null);\n    }\n  }, [isBlueFruitActive, gameState, blueFruit, snake, food, generateBlueFruit]);\n\n  // V√©rifier si un changement de direction causerait une collision\n  const wouldCollideWithSelf = useCallback(\n    (newDirection: Direction): boolean => {\n      const currentSnake = [...snakeRef.current];\n      if (currentSnake.length <= 2) return false; // Pas de risque avec 2 segments ou moins\n\n      const head = { ...currentSnake[0] };\n\n      // Calculer la nouvelle position de la t√™te\n      switch (newDirection) {\n        case \"UP\":\n          head.y -= 1;\n          break;\n        case \"DOWN\":\n          head.y += 1;\n          break;\n        case \"LEFT\":\n          head.x -= 1;\n          break;\n        case \"RIGHT\":\n          head.x += 1;\n          break;\n      }\n\n      // V√©rifier si la nouvelle t√™te entrerait en collision avec un segment du corps\n      // On exclut le dernier segment car il va se d√©placer si le serpent mange de la nourriture\n      const segmentsToCheck =\n        currentSnake.length > 1 ? currentSnake.slice(1, -1) : [];\n      return segmentsToCheck.some(\n        (segment) => segment.x === head.x && segment.y === head.y,\n      );\n    },\n    [],\n  );\n\n  // G√©rer les contr√¥les clavier\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (gameState !== \"playing\") return;\n\n      // Emp√™cher le d√©filement de la page avec les fl√®ches\n      if ([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"].includes(e.key)) {\n        e.preventDefault();\n      }\n\n      let newDirection: Direction | null = null;\n\n      switch (e.key) {\n        case \"ArrowUp\":\n        case \"z\":\n        case \"Z\":\n          newDirection = \"UP\";\n          break;\n        case \"ArrowDown\":\n        case \"s\":\n        case \"S\":\n          newDirection = \"DOWN\";\n          break;\n        case \"ArrowLeft\":\n        case \"q\":\n        case \"Q\":\n          newDirection = \"LEFT\";\n          break;\n        case \"ArrowRight\":\n        case \"d\":\n        case \"D\":\n          newDirection = \"RIGHT\";\n          break;\n      }\n\n      // V√©rifier si la nouvelle direction est valide\n      if (newDirection) {\n        // Ne pas permettre de faire demi-tour direct\n        const isOpposite =\n          (newDirection === \"UP\" && directionRef.current === \"DOWN\") ||\n          (newDirection === \"DOWN\" && directionRef.current === \"UP\") ||\n          (newDirection === \"LEFT\" && directionRef.current === \"RIGHT\") ||\n          (newDirection === \"RIGHT\" && directionRef.current === \"LEFT\");\n\n        // Ne pas permettre les changements qui causeraient une collision avec soi-m√™me\n        if (!isOpposite && !wouldCollideWithSelf(newDirection)) {\n          directionRef.current = newDirection;\n          setDirection(newDirection);\n        }\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n    return () => window.removeEventListener(\"keydown\", handleKeyPress);\n  }, [gameState, wouldCollideWithSelf]);\n\n  // Fonction pour obtenir l'image appropri√©e pour chaque partie du snake\n  const getSnakeImage = (segment: Position, index: number) => {\n    if (index === 0) {\n      // T√™te\n      switch (direction) {\n        case \"UP\":\n          return \"/Graphics/head_up.png\";\n        case \"DOWN\":\n          return \"/Graphics/head_down.png\";\n        case \"LEFT\":\n          return \"/Graphics/head_left.png\";\n        case \"RIGHT\":\n          return \"/Graphics/head_right.png\";\n      }\n    } else if (index === snake.length - 1) {\n      // Queue\n      const prevSegment = snake[index - 1];\n      // La queue pointe dans la direction oppos√©e au segment pr√©c√©dent\n      if (prevSegment.x < segment.x) return \"/Graphics/tail_right.png\";\n      if (prevSegment.x > segment.x) return \"/Graphics/tail_left.png\";\n      if (prevSegment.y < segment.y) return \"/Graphics/tail_down.png\";\n      if (prevSegment.y > segment.y) return \"/Graphics/tail_up.png\";\n    } else {\n      // Corps\n      const prevSegment = snake[index - 1];\n      const nextSegment = snake[index + 1];\n\n      if (prevSegment.x === nextSegment.x) {\n        return \"/Graphics/body_vertical.png\";\n      } else if (prevSegment.y === nextSegment.y) {\n        return \"/Graphics/body_horizontal.png\";\n      } else {\n        // Coins\n        if (\n          (prevSegment.x < segment.x && nextSegment.y < segment.y) ||\n          (prevSegment.y < segment.y && nextSegment.x < segment.x)\n        ) {\n          return \"/Graphics/body_topleft.png\";\n        }\n        if (\n          (prevSegment.x > segment.x && nextSegment.y < segment.y) ||\n          (prevSegment.y < segment.y && nextSegment.x > segment.x)\n        ) {\n          return \"/Graphics/body_topright.png\";\n        }\n        if (\n          (prevSegment.x < segment.x && nextSegment.y > segment.y) ||\n          (prevSegment.y > segment.y && nextSegment.x < segment.x)\n        ) {\n          return \"/Graphics/body_bottomleft.png\";\n        }\n        if (\n          (prevSegment.x > segment.x && nextSegment.y > segment.y) ||\n          (prevSegment.y > segment.y && nextSegment.x > segment.x)\n        ) {\n          return \"/Graphics/body_bottomright.png\";\n        }\n      }\n    }\n    return \"/Graphics/body_horizontal.png\";\n  };\n\n  // Si le composant n'est pas encore mont√©, afficher un fallback simple\n  if (!isMounted) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold mb-4\">Snake Idle</h1>\n          <div className=\"text-gray-400\">Chargement du jeu...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col items-center min-h-screen\">\n      {/* En-t√™te avec onglets */}\n      <div className=\"w-full max-w-4xl mb-6\">\n        <h1 className=\"text-4xl font-bold text-center mb-4\">Snake Idle</h1>\n\n        {/* Contr√¥les mode d√©veloppeur */}\n        <div className=\"mb-4 text-center\">\n          {!isDevMode ? (\n            <div className=\"flex justify-center items-center gap-2\">\n              <input\n                type=\"password\"\n                value={devPassword}\n                onChange={(e) => setDevPassword(e.target.value)}\n                placeholder=\"Mot de passe dev\"\n                className=\"px-3 py-1 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none\"\n                onKeyPress={(e) => e.key === 'Enter' && toggleDevMode()}\n              />\n              <button\n                onClick={toggleDevMode}\n                className=\"px-4 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors\"\n              >\n                Activer Mode Dev\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-purple-900 bg-opacity-50 p-3 rounded-lg\">\n              <div className=\"flex justify-center items-center gap-2 mb-2\">\n                <span className=\"text-purple-300 font-semibold\">Mode D√©veloppeur Activ√©</span>\n                <button\n                  onClick={toggleDevMode}\n                  className=\"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm\"\n                >\n                  D√©sactiver\n                </button>\n              </div>\n              <div className=\"flex justify-center items-center gap-2\">\n                <input\n                  type=\"number\"\n                  value={devPoints}\n                  onChange={(e) => setDevPoints(e.target.value)}\n                  placeholder=\"Nombre de points\"\n                  className=\"px-3 py-1 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none w-32\"\n                  onKeyPress={(e) => e.key === 'Enter' && addDevPoints()}\n                />\n                <button\n                  onClick={addDevPoints}\n                  className=\"px-4 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                >\n                  Ajouter Points\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Onglets */}\n        <div className=\"flex justify-center mb-6\">\n          <div className=\"bg-gray-800 p-1 rounded-lg\">\n            <button\n              onClick={() => setActiveTab(\"game\")}\n              className={`px-6 py-2 rounded-md font-semibold transition-colors ${\n                activeTab === \"game\"\n                  ? \"bg-green-600 text-white\"\n                  : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n              }`}\n            >\n              üéÆ JEU\n            </button>\n            <button\n              onClick={() => setActiveTab(\"upgrades\")}\n              className={`px-6 py-2 rounded-md font-semibold transition-colors ml-2 ${\n                activeTab === \"upgrades\"\n                  ? \"bg-purple-600 text-white\"\n                  : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n              }`}\n            >\n              üöÄ AM√âLIORATIONS\n            </button>\n          </div>\n        </div>\n\n        {/* Tableau des scores */}\n        <div className=\"text-center\">\n          <div className=\"grid grid-cols-6 gap-4 mb-4\">\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">PV</div>\n              <div\n                className={`text-2xl font-bold ${healthPoints <= 5 ? \"text-red-500\" : healthPoints <= 10 ? \"text-yellow-400\" : \"text-red-400\"}`}\n              >\n                ‚ù§Ô∏è {healthPoints}\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Points actuels</div>\n              <div className=\"text-2xl font-bold text-green-400\">\n                {currentPoints}\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Total accumul√©</div>\n              <div className=\"text-2xl font-bold text-yellow-400\">\n                {totalPoints}\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Meilleur score</div>\n              <div className=\"text-2xl font-bold text-purple-400\">\n                {highScore}\n              </div>\n            </div>\n            <div\n              className={`bg-gray-800 p-4 rounded-lg ${timeLeft <= 10 ? \"border-2 border-red-500\" : \"\"}`}\n            >\n              <div className=\"text-sm text-gray-400\">Temps restant</div>\n              <div\n                className={`text-2xl font-bold ${timeLeft <= 10 ? \"text-red-400\" : \"text-blue-400\"}`}\n              >\n                {timeLeft}s\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Valeur pomme</div>\n              <div className=\"text-2xl font-bold text-red-400\">\n                +{appleValue}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Contenu des onglets */}\n      {activeTab === \"game\" && (\n        <>\n          {/* Grille de jeu */}\n          <div className=\"relative bg-gray-800 p-4 rounded-lg shadow-2xl\">\n            <div\n              className=\"relative grid bg-gray-700 border-4 border-gray-600\"\n              style={{\n                gridTemplateColumns: `repeat(${gridWidth}, ${CELL_SIZE}px)`,\n                gridTemplateRows: `repeat(${gridHeight}, ${CELL_SIZE}px)`,\n              }}\n            >\n              {/* Grille de fond */}\n              {Array.from({ length: gridWidth * gridHeight }).map((_, index) => (\n                <div\n                  key={`cell-${index}`}\n                  className=\"border border-gray-600 bg-gray-750\"\n                />\n              ))}\n\n              {/* Nourriture */}\n              <div\n                className=\"absolute flex items-center justify-center\"\n                style={{\n                  left: `${food.x * CELL_SIZE}px`,\n                  top: `${food.y * CELL_SIZE}px`,\n                  width: `${CELL_SIZE}px`,\n                  height: `${CELL_SIZE}px`,\n                }}\n              >\n                <img\n                  src=\"/Graphics/apple.png\"\n                  alt=\"Food\"\n                  className=\"w-12 h-12 opacity-90\"\n                  onError={(e) => {\n                    console.error(\"Error loading apple.png\");\n                    e.currentTarget.style.display = \"none\";\n                  }}\n                />\n                <div\n                  className=\"w-8 h-8 bg-red-500 rounded-full\"\n                  style={{ display: \"none\" }}\n                  id=\"apple-fallback\"\n                />\n              </div>\n\n              {/* Fruit Bleu */}\n              {blueFruit && (\n                <div\n                  className=\"absolute flex items-center justify-center\"\n                  style={{\n                    left: `${blueFruit.x * CELL_SIZE}px`,\n                    top: `${blueFruit.y * CELL_SIZE}px`,\n                    width: `${CELL_SIZE}px`,\n                    height: `${CELL_SIZE}px`,\n                  }}\n                >\n                  <img\n                    src=\"/Graphics/blue_apple.png\"\n                    alt=\"Blue Fruit\"\n                    className=\"w-12 h-12 opacity-90\"\n                    onError={(e) => {\n                      console.error(\"Error loading blue_apple.png\");\n                      e.currentTarget.style.display = \"none\";\n                    }}\n                  />\n                  <div\n                    className=\"w-8 h-8 bg-blue-500 rounded-full\"\n                    style={{ display: \"none\" }}\n                    id=\"blue-fruit-fallback\"\n                  />\n                </div>\n              )}\n\n              {/* Snake */}\n              {snake.map((segment, index) => (\n                <div\n                  key={`snake-${index}`}\n                  className=\"absolute flex items-center justify-center\"\n                  style={{\n                    left: `${segment.x * CELL_SIZE}px`,\n                    top: `${segment.y * CELL_SIZE}px`,\n                    width: `${CELL_SIZE}px`,\n                    height: `${CELL_SIZE}px`,\n                  }}\n                >\n                  <img\n                    src={getSnakeImage(segment, index)}\n                    alt={`Snake segment ${index}`}\n                    className=\"w-16 h-16\"\n                  />\n                </div>\n              ))}\n            </div>\n\n            {/* Overlay de game over */}\n            {gameState === \"gameOver\" && (\n              <div className=\"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center rounded-lg\">\n                <div className=\"text-center\">\n                  <h2 className=\"text-3xl font-bold mb-2 text-red-400\">\n                    {timeLeft === 0\n                      ? \"Temps √©coul√©!\"\n                      : currentPoints === gridWidth * gridHeight - 1\n                        ? \"Parfait! Tableau rempli!\"\n                        : \"Game Over!\"}\n                  </h2>\n                  <p className=\"text-lg mb-4\">Score: {currentPoints}</p>\n                  <p className=\"text-sm text-gray-300 mb-4\">\n                    +{currentPoints} points ajout√©s au total!\n                  </p>\n                  {timeLeft === 0 && (\n                    <p className=\"text-sm text-blue-300 mb-4\">\n                      ‚è∞ Les 30 secondes sont termin√©es\n                    </p>\n                  )}\n                  {currentPoints === gridWidth * gridHeight - 1 && (\n                    <p className=\"text-sm text-green-300 mb-4\">\n                      üéâ Vous avez rempli tout le tableau!\n                    </p>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      {activeTab === \"upgrades\" && (\n        <UpgradeTree\n          upgrades={upgrades}\n          totalPoints={totalPoints}\n          currentPoints={currentPoints}\n          appleValue={appleValue}\n          gridWidth={gridWidth}\n          gridHeight={gridHeight}\n          timeBonus={timeBonus}\n          speedBonus={speedBonus}\n          blueFruitBonus={blueFruitBonus}\n          onBuyUpgrade={buyUpgrade}\n          onPlayGame={() => {\n            setActiveTab(\"game\");\n            if (gameState === \"idle\" || gameState === \"gameOver\") {\n              startGame();\n            }\n          }}\n          gameState={gameState}\n          saveUpgrades={saveUpgrades}\n          loadUpgrades={loadUpgrades}\n          applySavedUpgrades={applySavedUpgrades}\n          savedUpgrades={savedUpgrades}\n          healthBonus={healthBonus}\n        />\n      )}\n\n      {/* Contr√¥les - seulement dans l'onglet jeu */}\n      {activeTab === \"game\" && (\n        <div className=\"mt-6 text-center\">\n          {gameState === \"idle\" && (\n            <button\n              onClick={startGame}\n              className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors\"\n            >\n              Commencer √† jouer\n            </button>\n          )}\n\n          {gameState === \"gameOver\" && (\n            <button\n              onClick={startGame}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors\"\n            >\n              Rejouer\n            </button>\n          )}\n\n          {gameState === \"playing\" && (\n            <div className=\"text-sm text-gray-400\">\n              Utilisez les fl√®ches ou Z/Q/S/D pour contr√¥ler le snake\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Instructions - seulement dans l'onglet jeu */}\n      {activeTab === \"game\" && (\n        <div className=\"mt-6 text-center text-sm text-gray-500 max-w-md\">\n          <p className=\"mb-2\">\n            üéÆ <strong>Objectif:</strong> Ramassez les pommes pour gagner des\n            points\n          </p>\n          <p className=\"mb-2\">\n            üçé <strong>Points:</strong> Chaque pomme vaut {appleValue} point\n            {appleValue > 1 ? \"s\" : \"\"}\n          </p>\n          <p className=\"mb-2\">\n            ‚è∞ <strong>Temps:</strong> Vous avez 30 secondes par partie!\n          </p>\n          <p className=\"mb-2\">\n            üíé <strong>Idle:</strong> Vos points sont conserv√©s m√™me apr√®s la\n            mort!\n          </p>\n          <p>\n            üöÄ <strong>Am√©liorations:</strong> Utilisez vos points pour\n            d√©bloquer des bonus permanents!\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Composant UpgradeTree pour afficher l'arbre d'am√©liorations\nfunction UpgradeTree({\n  upgrades,\n  totalPoints,\n  currentPoints,\n  appleValue,\n  gridWidth,\n  gridHeight,\n  timeBonus,\n  speedBonus,\n  blueFruitBonus,\n  onBuyUpgrade,\n  onPlayGame,\n  gameState,\n  saveUpgrades,\n  loadUpgrades,\n  applySavedUpgrades,\n  savedUpgrades,\n  healthBonus,\n}: {\n  upgrades: Upgrade[];\n  totalPoints: number;\n  currentPoints: number;\n  appleValue: number;\n  gridWidth: number;\n  gridHeight: number;\n  timeBonus: number;\n  speedBonus: number;\n  blueFruitBonus: number;\n  onBuyUpgrade: (id: string) => void;\n  onPlayGame: () => void;\n  gameState: GameState;\n  saveUpgrades: () => void;\n  loadUpgrades: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  applySavedUpgrades: () => void;\n  savedUpgrades: any[];\n  healthBonus: number;\n}) {\n  const getUpgradeCost = (baseCost: number, level: number): number => {\n    return Math.floor(baseCost * Math.pow(1.5, level));\n  };\n\n  const getAvailablePoints = () => {\n    return totalPoints;\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto\">\n      <div className=\"bg-gray-800 rounded-lg p-8 shadow-2xl\">\n        <h2 className=\"text-2xl font-bold text-center mb-8 text-purple-400\">\n          Arbre d'Am√©liorations\n        </h2>\n\n        {/* Liste d'am√©liorations */}\n        <div className=\"space-y-4 mb-16\">\n          {upgrades.map((upgrade) => {\n            const currentCost = getUpgradeCost(upgrade.baseCost, upgrade.level);\n            const availablePoints = getAvailablePoints();\n            const canAfford = availablePoints >= currentCost;\n            const isMaxed = upgrade.level >= upgrade.maxLevel;\n\n            return (\n              <div\n                key={upgrade.id}\n                className={`p-4 rounded-lg border-2 transition-all cursor-pointer ${\n                  !upgrade.unlocked\n                    ? \"bg-gray-900 border-gray-700 opacity-50\"\n                    : isMaxed\n                      ? \"bg-purple-900 border-purple-600\"\n                      : canAfford\n                        ? \"bg-gray-800 border-green-600 hover:bg-gray-750\"\n                        : \"bg-gray-800 border-gray-700 opacity-75\"\n                }`}\n                onClick={() =>\n                  upgrade.unlocked &&\n                  !isMaxed &&\n                  canAfford &&\n                  onBuyUpgrade(upgrade.id)\n                }\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <div className=\"text-lg font-bold text-gray-300\">\n                        {upgrade.id === \"appleValue\"\n                          ? \"POMMES\"\n                          : upgrade.id === \"healthBonus\"\n                            ? \"PV\"\n                            : upgrade.id === \"gridSize\"\n                              ? \"GRILLE\"\n                              : upgrade.id === \"timeBonus\"\n                                ? \"TEMPS\"\n                                : \"BONUS\"}\n                      </div>\n                      <h3 className=\"font-bold text-white\">{upgrade.name}</h3>\n                      <div className=\"text-sm text-gray-400\">\n                        Niv. {upgrade.level}/{upgrade.maxLevel}\n                      </div>\n                    </div>\n\n                    <p className=\"text-sm text-gray-400 mb-2\">\n                      {upgrade.description}\n                    </p>\n\n                    {!upgrade.unlocked && (\n                      <div className=\"text-sm text-yellow-400\">\n                        üîí Verrouill√© - N√©cessite Niv.\n                        {upgrade.requiredLevelValue} en{\" \"}\n                        {\n                          upgrades.find((u) => u.id === upgrade.requiredLevel)\n                            ?.name\n                        }\n                      </div>\n                    )}\n\n                    <div className=\"flex items-center gap-4 mt-2\">\n                      <div className=\"text-sm font-semibold text-gray-300\">\n                        Actuellement:\n                        {upgrade.id === \"appleValue\" &&\n                          ` +${appleValue} points/pomme`}\n                        {upgrade.id === \"healthBonus\" &&\n                          ` ${10 + healthBonus} PV de d√©part`}\n                        {upgrade.id === \"gridSize\" &&\n                          ` ${gridWidth}x${gridHeight}`}\n                        {upgrade.id === \"timeBonus\" &&\n                          ` +${timeBonus}s par partie`}\n                        {upgrade.id === \"speedBonus\" &&\n                          ` ${speedBonus}% de vitesse`}\n                        {upgrade.id === \"blueFruit\" &&\n                          (blueFruitBonus > 0\n                            ? ` +${blueFruitBonus} PV, +${blueFruitBonus * 2}s par partie`\n                            : \" Pas poss√©d√©\")}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-col items-end ml-4\">\n                    {upgrade.unlocked && !isMaxed && (\n                      <div className=\"text-lg font-bold\">\n                        {canAfford ? (\n                          <span className=\"text-green-400\">\n                            {currentCost} pts\n                          </span>\n                        ) : (\n                          <span className=\"text-red-400\">\n                            {currentCost} pts\n                          </span>\n                        )}\n                      </div>\n                    )}\n\n                    {isMaxed && (\n                      <div className=\"text-lg font-bold text-purple-400\">\n                        MAX\n                      </div>\n                    )}\n\n                    {!upgrade.unlocked && (\n                      <div className=\"text-lg font-bold text-yellow-400\">\n                        üîí\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Bouton pour jouer - s√©par√© de la grille */}\n        <div className=\"border-t border-gray-700 pt-6\">\n          <div className=\"text-center\">\n            <button\n              onClick={onPlayGame}\n              className={`px-8 py-3 rounded-lg font-bold text-lg transition-colors ${\n                gameState === \"idle\" || gameState === \"gameOver\"\n                  ? \"bg-green-600 hover:bg-green-700 text-white\"\n                  : \"bg-blue-600 hover:bg-blue-700 text-white\"\n              }`}\n            >\n              {gameState === \"idle\"\n                ? \"üéÆ Commencer √† jouer\"\n                : gameState === \"gameOver\"\n                  ? \"üîÑ Rejouer\"\n                  : \"üéÆ Retourner au jeu\"}\n            </button>\n          </div>\n\n          {/* Statistiques */}\n          <div className=\"mt-6 grid grid-cols-3 gap-4 text-center\">\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Valeur des pommes</div>\n              <div className=\"text-xl font-bold text-red-400\">\n                +{appleValue}\n              </div>\n            </div>\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Bonus temps</div>\n              <div className=\"text-xl font-bold text-yellow-400\">\n                +{timeBonus}s\n              </div>\n            </div>\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Taille de la grille</div>\n              <div className=\"text-xl font-bold text-blue-400\">\n                {gridWidth}x{gridHeight}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}