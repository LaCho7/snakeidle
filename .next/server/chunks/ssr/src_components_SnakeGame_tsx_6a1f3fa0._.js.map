{"version":3,"sources":["turbopack:///[project]/src/components/SnakeGame.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback, useRef } from \"react\";\n\n// Types pour le jeu\ntype Direction = \"UP\" | \"DOWN\" | \"LEFT\" | \"RIGHT\";\ntype Position = { x: number; y: number };\ntype GameState = \"playing\" | \"gameOver\" | \"idle\";\n\n// Types pour les am√©liorations\ntype Upgrade = {\n  id: string;\n  name: string;\n  description: string;\n  baseCost: number;\n  level: number;\n  maxLevel: number;\n  unlocked: boolean;\n  requiredLevel?: string; // ID de l'am√©lioration requise\n  requiredLevelValue?: number; // Niveau requis\n  effect: () => void;\n  position?: { x: number; y: number }; // Position dans l'arbre\n};\n\nconst INITIAL_GRID_SIZE = 4;\nconst CELL_SIZE = 80;\nconst INITIAL_SPEED = 500; // ms between moves\n\nexport default function SnakeGame() {\n  // √âtat du jeu principal\n  const [gameState, setGameState] = useState<GameState>(\"idle\");\n  const [totalPoints, setTotalPoints] = useState(0);\n  const [currentPoints, setCurrentPoints] = useState(0);\n  const [healthPoints, setHealthPoints] = useState(10); // Points de vie du serpent\n  const [healthBonus, setHealthBonus] = useState(0); // Bonus de PV des am√©liorations\n  const [highScore, setHighScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(30); // 30 secondes\n  const [baseTime, setBaseTime] = useState(30); // Temps de base pouvant √™tre am√©lior√©\n  const pointsAddedRef = useRef(false); // Pour √©viter le double comptage\n  const [isMounted, setIsMounted] = useState(false); // Pour g√©rer l'hydratation\n\n  // √âtat du snake\n  const [snake, setSnake] = useState<Position[]>([{ x: 1, y: 1 }]);\n  const [direction, setDirection] = useState<Direction>(\"RIGHT\");\n  const [food, setFood] = useState<Position>({ x: 2, y: 2 });\n\n  // Fonction pour calculer la taille de la grille selon la progression\n  const getGridDimensions = (level: number) => {\n    const evenLevel = Math.floor(level / 2);\n    const oddLevel = level % 2;\n\n    // Niveau 0: 4x4\n    // Niveau 1: 4x5\n    // Niveau 2: 5x5\n    // Niveau 3: 5x6\n    // Niveau 4: 6x6\n    // Niveau 5: 6x7\n    // etc.\n    const baseSize = 4;\n    const width = baseSize + evenLevel;\n    const height = baseSize + evenLevel + oddLevel;\n\n    return { width, height };\n  };\n\n  // √âtat des dimensions de grille (s√©par√©es pour largeur/hauteur)\n  const [gridWidth, setGridWidth] = useState(4);\n  const [gridHeight, setGridHeight] = useState(4);\n\n  // R√©f√©rences pour √©viter les recr√©ations de useEffect\n  const directionRef = useRef<Direction>(\"RIGHT\");\n  const snakeRef = useRef<Position[]>([{ x: 1, y: 1 }]);\n\n  // Synchroniser les r√©f√©rences avec l'√©tat\n  useEffect(() => {\n    snakeRef.current = snake;\n  }, [snake]);\n\n  useEffect(() => {\n    directionRef.current = direction;\n  }, [direction]);\n\n  // √âtat des onglets et am√©liorations\n  const [activeTab, setActiveTab] = useState<\"game\" | \"upgrades\">(\"game\");\n  const [appleValue, setAppleValue] = useState(1);\n  const [timeBonus, setTimeBonus] = useState(0); // Bonus de temps additionnel\n  const [savedUpgrades, setSavedUpgrades] = useState<Upgrade[]>([]); // Am√©liorations sauvegard√©es\n  const [upgrades, setUpgrades] = useState<Upgrade[]>([\n    {\n      id: \"appleValue\",\n      name: \"Valeur des Pommes\",\n      description: \"Augmente la valeur de chaque pomme r√©colt√©e\",\n      baseCost: 10,\n      level: 0,\n      maxLevel: 20,\n      unlocked: true,\n      position: { x: 1, y: 1 },\n      effect: () => {},\n    },\n    {\n      id: \"healthBonus\",\n      name: \"Points de Vie\",\n      description: \"Augmente les PV de d√©part du serpent\",\n      baseCost: 10,\n      level: 0,\n      maxLevel: 20,\n      unlocked: true,\n      position: { x: 1, y: 3 },\n      effect: () => {},\n    },\n    {\n      id: \"timeBonus\",\n      name: \"Bonus Temps\",\n      description: \"+2 secondes par partie\",\n      baseCost: 50,\n      level: 0,\n      maxLevel: 10,\n      unlocked: false,\n      requiredLevel: \"appleValue\",\n      requiredLevelValue: 3,\n      position: { x: -1, y: 1 },\n      effect: () => {},\n    },\n    {\n      id: \"gridSize\",\n      name: \"Taille de la Grille\",\n      description: \"Agrandit le terrain de jeu\",\n      baseCost: 25,\n      level: 0,\n      maxLevel: 6, // 4x4 -> 5x5 -> 6x6 -> 7x7 -> 8x8 -> 9x9 -> 10x10\n      unlocked: false,\n      requiredLevel: \"appleValue\",\n      requiredLevelValue: 3,\n      position: { x: 3, y: 1 },\n      effect: () => {},\n    },\n  ]);\n\n  // G√©rer le montage du composant\n  useEffect(() => {\n    setIsMounted(true);\n    // Initialiser la nourriture al√©atoirement seulement c√¥t√© client\n    const initialSnake = [{ x: 1, y: 1 }];\n    setFood(generateRandomFood(initialSnake) || { x: 2, y: 2 });\n  }, []);\n\n  // V√©rifier les d√©verrouillages d'am√©liorations\n  const checkUnlocks = useCallback((updatedUpgrades: Upgrade[]) => {\n    return updatedUpgrades.map((upgrade) => {\n      if (\n        !upgrade.unlocked &&\n        upgrade.requiredLevel &&\n        upgrade.requiredLevelValue\n      ) {\n        const requiredUpgrade = updatedUpgrades.find(\n          (u) => u.id === upgrade.requiredLevel,\n        );\n        if (\n          requiredUpgrade &&\n          requiredUpgrade.level >= upgrade.requiredLevelValue\n        ) {\n          return { ...upgrade, unlocked: true };\n        }\n      }\n      return upgrade;\n    });\n  }, []);\n\n  // Calculer le co√ªt d'une am√©lioration en fonction de son niveau\n  const getUpgradeCost = useCallback(\n    (baseCost: number, level: number): number => {\n      return Math.floor(baseCost * Math.pow(1.5, level));\n    },\n    [],\n  );\n\n  // Acheter une am√©lioration\n  const buyUpgrade = useCallback(\n    (upgradeId: string) => {\n      setUpgrades((prevUpgrades) => {\n        const upgrade = prevUpgrades.find((u) => u.id === upgradeId);\n        if (!upgrade || upgrade.level >= upgrade.maxLevel || !upgrade.unlocked)\n          return prevUpgrades;\n\n        const currentCost = getUpgradeCost(upgrade.baseCost, upgrade.level);\n\n        // V√©rifier si on a assez de points dans le total accumul√© uniquement\n        if (totalPoints < currentCost) return prevUpgrades;\n\n        // Appliquer l'am√©lioration d'abord\n        const updatedUpgrades = prevUpgrades.map((u) => {\n          if (u.id === upgradeId) {\n            const newLevel = u.level + 1;\n\n            if (upgradeId === \"appleValue\") {\n              setAppleValue(1 + newLevel);\n            } else if (upgradeId === \"healthBonus\") {\n              setHealthBonus(newLevel); // +1 PV par niveau\n            } else if (upgradeId === \"gridSize\") {\n              const dimensions = getGridDimensions(newLevel);\n              setGridWidth(dimensions.width);\n              setGridHeight(dimensions.height);\n              // R√©initialiser la partie si en cours\n              if (gameState === \"playing\") {\n                setGameState(\"idle\");\n                setActiveTab(\"game\"); // Retourner √† l'onglet jeu\n              }\n            } else if (upgradeId === \"timeBonus\") {\n              setTimeBonus(newLevel * 2); // +2 secondes par niveau\n            }\n\n            return { ...u, level: newLevel };\n          }\n          return u;\n        });\n\n        // V√©rifier les d√©verrouillages\n        return checkUnlocks(updatedUpgrades);\n      });\n\n      // D√©duire les points du total accumul√© uniquement (apr√®s la mise √† jour)\n      const upgrade = upgrades.find((u) => u.id === upgradeId);\n      if (upgrade) {\n        const currentCost = getUpgradeCost(upgrade.baseCost, upgrade.level);\n        setTotalPoints((prev) => Math.max(0, prev - currentCost));\n      }\n    },\n    [totalPoints, getUpgradeCost, gameState, checkUnlocks],\n  );\n\n  // Sauvegarder les am√©liorations actuelles\n  const saveUpgrades = useCallback(() => {\n    const currentUpgradesData = upgrades.map((u) => ({\n      id: u.id,\n      name: u.name,\n      description: u.description,\n      baseCost: u.baseCost,\n      level: u.level,\n      maxLevel: u.maxLevel,\n      unlocked: u.unlocked,\n      requiredLevel: u.requiredLevel,\n      requiredLevelValue: u.requiredLevelValue,\n      position: u.position,\n      effect: () => {}, // Fonction vide placeholder pour la sauvegarde\n    }));\n\n    setSavedUpgrades(currentUpgradesData);\n\n    // Cr√©er et t√©l√©charger le fichier JSON\n    const dataStr = JSON.stringify(\n      {\n        savedUpgrades: currentUpgradesData,\n        gameState: {\n          appleValue,\n          healthBonus,\n          timeBonus,\n          gridWidth,\n          gridHeight,\n          totalPoints,\n          highScore,\n        },\n        timestamp: new Date().toISOString(),\n      },\n      null,\n      2,\n    );\n\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `snake_idle_upgrades_${Date.now()}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  }, [upgrades, appleValue, timeBonus, gridWidth, gridHeight, totalPoints, highScore]);\n\n  // Charger les am√©liorations depuis un fichier\n  const loadUpgrades = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const file = event.target.files?.[0];\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        try {\n          const data = JSON.parse(e.target?.result as string);\n\n          if (data.savedUpgrades && Array.isArray(data.savedUpgrades)) {\n            setSavedUpgrades(data.savedUpgrades);\n\n            // Restaurer l'√©tat du jeu si disponible\n            if (data.gameState) {\n              setAppleValue(data.gameState.appleValue || 1);\n              setHealthBonus(data.gameState.healthBonus || 0);\n              setTimeBonus(data.gameState.timeBonus || 0);\n              setGridWidth(data.gameState.gridWidth || INITIAL_GRID_SIZE);\n              setGridHeight(data.gameState.gridHeight || INITIAL_GRID_SIZE);\n              setHighScore(data.gameState.highScore || 0);\n            }\n          }\n        } catch (error) {\n          console.error(\"Erreur lors du chargement des am√©liorations:\", error);\n          alert(\"Erreur: Le fichier de sauvegarde est invalide\");\n        }\n      };\n      reader.readAsText(file);\n    },\n    [],\n  );\n\n  // Appliquer les am√©liorations sauvegard√©es\n  const applySavedUpgrades = useCallback(() => {\n    if (savedUpgrades.length === 0) {\n      alert(\"Aucune am√©lioration sauvegard√©e √† appliquer\");\n      return;\n    }\n\n    // R√©initialiser tous les √©tats\n    setAppleValue(1);\n    setHealthBonus(0);\n    setTimeBonus(0);\n    setGridWidth(INITIAL_GRID_SIZE);\n    setGridHeight(INITIAL_GRID_SIZE);\n\n    // Appliquer les am√©liorations sauvegard√©es\n    const newUpgrades = upgrades.map((baseUpgrade) => {\n      const savedUpgrade = savedUpgrades.find((s) => s.id === baseUpgrade.id);\n      if (savedUpgrade) {\n        const levelDiff = savedUpgrade.level - baseUpgrade.level;\n\n        // Appliquer les effets en fonction du niveau\n        if (baseUpgrade.id === \"appleValue\") {\n          setAppleValue((prev) => prev + levelDiff);\n        } else if (baseUpgrade.id === \"healthBonus\") {\n          setHealthBonus((prev) => prev + levelDiff);\n        } else if (baseUpgrade.id === \"timeBonus\") {\n          setTimeBonus((prev) => prev + savedUpgrade.level * 2);\n        } else if (baseUpgrade.id === \"gridSize\") {\n          const dimensions = getGridDimensions(savedUpgrade.level);\n          setGridWidth(dimensions.width);\n          setGridHeight(dimensions.height);\n        }\n\n        return savedUpgrade;\n      }\n      return baseUpgrade;\n    });\n\n    setUpgrades(newUpgrades);\n    setSavedUpgrades([]); // Vider les am√©liorations sauvegard√©es apr√®s application\n    alert(\"Am√©liorations appliqu√©es avec succ√®s!\");\n  }, [savedUpgrades, upgrades]);\n\n  // G√©n√©rer une position al√©atoire pour la nourriture\n  const generateRandomFood = useCallback(\n    (currentSnake: Position[]): Position | null => {\n      // Cr√©er une liste de toutes les positions possibles\n      const availablePositions: Position[] = [];\n\n      for (let x = 0; x < gridWidth; x++) {\n        for (let y = 0; y < gridHeight; y++) {\n          const isOccupied = currentSnake.some(\n            (segment) => segment.x === x && segment.y === y,\n          );\n          if (!isOccupied) {\n            availablePositions.push({ x, y });\n          }\n        }\n      }\n\n      // S'il n'y a plus de place disponible, retourner null\n      if (availablePositions.length === 0) {\n        return null;\n      }\n\n      // Choisir une position al√©atoire parmi les positions disponibles\n      const randomIndex = Math.floor(Math.random() * availablePositions.length);\n      return availablePositions[randomIndex];\n    },\n    [gridWidth, gridHeight],\n  );\n\n  // Initialiser le jeu\n  const startGame = () => {\n    const initialSnake = [{ x: 1, y: 1 }];\n    snakeRef.current = initialSnake;\n    directionRef.current = \"RIGHT\";\n    pointsAddedRef.current = false; // R√©initialiser le flag de points\n    setSnake(initialSnake);\n    setDirection(\"RIGHT\");\n\n    // G√©n√©rer la nourriture seulement si le composant est mont√©\n    const newFood = isMounted\n      ? generateRandomFood(initialSnake)\n      : { x: 2, y: 2 };\n    setFood(newFood || { x: 2, y: 2 });\n\n    setCurrentPoints(0);\n    setHealthPoints(10 + healthBonus); // R√©initialiser les PV avec le bonus\n    setTimeLeft(baseTime + timeBonus); // Utiliser le temps de base + le bonus\n    setGameState(\"playing\");\n  };\n\n  // D√©placer le snake\n  const moveSnake = useCallback(() => {\n    if (gameState !== \"playing\") return;\n\n    const currentSnake = [...snakeRef.current];\n    const newSnake = [...currentSnake];\n    const head = { ...newSnake[0] };\n    const currentDirection = directionRef.current;\n\n    // D√©placer la t√™te selon la direction\n    switch (currentDirection) {\n      case \"UP\":\n        head.y -= 1;\n        break;\n      case \"DOWN\":\n        head.y += 1;\n        break;\n      case \"LEFT\":\n        head.x -= 1;\n        break;\n      case \"RIGHT\":\n        head.x += 1;\n        break;\n    }\n\n    // V√©rifier les collisions\n    // Collision avec les murs\n    if (head.x < 0 || head.x >= gridWidth || head.y < 0 || head.y >= gridHeight) {\n      setGameState(\"gameOver\");\n      return;\n    }\n\n    // Collision avec soi-m√™me\n    // On exclut le dernier segment car il va se d√©placer (cas o√π le serpent mange de la nourriture)\n    const segmentsToCheck =\n      newSnake.length > 1 ? newSnake.slice(0, -1) : newSnake;\n    if (\n      segmentsToCheck.some(\n        (segment) => segment.x === head.x && segment.y === head.y,\n      )\n    ) {\n      setGameState(\"gameOver\");\n      return;\n    }\n\n    newSnake.unshift(head);\n\n    // V√©rifier si le snake mange la nourriture\n    if (head.x === food.x && head.y === food.y) {\n      setCurrentPoints((prev) => prev + appleValue);\n      setHealthPoints((prev) => {\n        const newHP = prev - 1;\n        if (newHP <= 0) {\n          setGameState(\"gameOver\");\n        }\n        return newHP;\n      }); // Le serpent perd 1 PV en mangeant une pomme\n      const newFoodPosition = generateRandomFood(newSnake);\n      if (newFoodPosition === null) {\n        // Plus de place pour la nourriture, le snake a gagn√© !\n        setGameState(\"gameOver\");\n        return;\n      }\n      setFood(newFoodPosition);\n    } else {\n      newSnake.pop();\n    }\n\n    snakeRef.current = newSnake;\n    setSnake(newSnake);\n  }, [food, gameState, generateRandomFood, gridWidth, gridHeight, appleValue]);\n\n  // G√©rer la fin de partie\n  useEffect(() => {\n    if (gameState === \"gameOver\" && !pointsAddedRef.current) {\n      // currentPoints contient d√©j√† le score avec la valeur des pommes appliqu√©e\n      setTotalPoints((prev) => prev + currentPoints);\n      if (currentPoints > highScore) {\n        setHighScore(currentPoints);\n      }\n      pointsAddedRef.current = true; // Marquer que les points ont √©t√© ajout√©s\n    }\n  }, [gameState, currentPoints, highScore]);\n\n  // Game loop\n  useEffect(() => {\n    if (gameState !== \"playing\") return;\n\n    const gameInterval = setInterval(moveSnake, INITIAL_SPEED);\n    return () => clearInterval(gameInterval);\n  }, [gameState, moveSnake]);\n\n  // Chronom√®tre\n  useEffect(() => {\n    if (gameState !== \"playing\") return;\n\n    const timerInterval = setInterval(() => {\n      setTimeLeft((prev) => {\n        if (prev <= 1) {\n          setGameState(\"gameOver\");\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000); // 1 seconde\n\n    return () => clearInterval(timerInterval);\n  }, [gameState]);\n\n  // V√©rifier si un changement de direction causerait une collision\n  const wouldCollideWithSelf = useCallback(\n    (newDirection: Direction): boolean => {\n      const currentSnake = [...snakeRef.current];\n      if (currentSnake.length <= 2) return false; // Pas de risque avec 2 segments ou moins\n\n      const head = { ...currentSnake[0] };\n\n      // Calculer la nouvelle position de la t√™te\n      switch (newDirection) {\n        case \"UP\":\n          head.y -= 1;\n          break;\n        case \"DOWN\":\n          head.y += 1;\n          break;\n        case \"LEFT\":\n          head.x -= 1;\n          break;\n        case \"RIGHT\":\n          head.x += 1;\n          break;\n      }\n\n      // V√©rifier si la nouvelle t√™te entrerait en collision avec un segment du corps\n      // On exclut le dernier segment car il va se d√©placer si le serpent mange de la nourriture\n      const segmentsToCheck =\n        currentSnake.length > 1 ? currentSnake.slice(1, -1) : [];\n      return segmentsToCheck.some(\n        (segment) => segment.x === head.x && segment.y === head.y,\n      );\n    },\n    [],\n  );\n\n  // G√©rer les contr√¥les clavier\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (gameState !== \"playing\") return;\n\n      // Emp√™cher le d√©filement de la page avec les fl√®ches\n      if ([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"].includes(e.key)) {\n        e.preventDefault();\n      }\n\n      let newDirection: Direction | null = null;\n\n      switch (e.key) {\n        case \"ArrowUp\":\n        case \"z\":\n        case \"Z\":\n          newDirection = \"UP\";\n          break;\n        case \"ArrowDown\":\n        case \"s\":\n        case \"S\":\n          newDirection = \"DOWN\";\n          break;\n        case \"ArrowLeft\":\n        case \"q\":\n        case \"Q\":\n          newDirection = \"LEFT\";\n          break;\n        case \"ArrowRight\":\n        case \"d\":\n        case \"D\":\n          newDirection = \"RIGHT\";\n          break;\n      }\n\n      // V√©rifier si la nouvelle direction est valide\n      if (newDirection) {\n        // Ne pas permettre de faire demi-tour direct\n        const isOpposite =\n          (newDirection === \"UP\" && directionRef.current === \"DOWN\") ||\n          (newDirection === \"DOWN\" && directionRef.current === \"UP\") ||\n          (newDirection === \"LEFT\" && directionRef.current === \"RIGHT\") ||\n          (newDirection === \"RIGHT\" && directionRef.current === \"LEFT\");\n\n        // Ne pas permettre les changements qui causeraient une collision avec soi-m√™me\n        if (!isOpposite && !wouldCollideWithSelf(newDirection)) {\n          directionRef.current = newDirection;\n          setDirection(newDirection);\n        }\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n    return () => window.removeEventListener(\"keydown\", handleKeyPress);\n  }, [gameState, wouldCollideWithSelf]);\n\n  // Fonction pour obtenir l'image appropri√©e pour chaque partie du snake\n  const getSnakeImage = (segment: Position, index: number) => {\n    if (index === 0) {\n      // T√™te\n      switch (direction) {\n        case \"UP\":\n          return \"/Graphics/head_up.png\";\n        case \"DOWN\":\n          return \"/Graphics/head_down.png\";\n        case \"LEFT\":\n          return \"/Graphics/head_left.png\";\n        case \"RIGHT\":\n          return \"/Graphics/head_right.png\";\n      }\n    } else if (index === snake.length - 1) {\n      // Queue\n      const prevSegment = snake[index - 1];\n      // La queue pointe dans la direction oppos√©e au segment pr√©c√©dent\n      if (prevSegment.x < segment.x) return \"/Graphics/tail_right.png\";\n      if (prevSegment.x > segment.x) return \"/Graphics/tail_left.png\";\n      if (prevSegment.y < segment.y) return \"/Graphics/tail_down.png\";\n      if (prevSegment.y > segment.y) return \"/Graphics/tail_up.png\";\n    } else {\n      // Corps\n      const prevSegment = snake[index - 1];\n      const nextSegment = snake[index + 1];\n\n      if (prevSegment.x === nextSegment.x) {\n        return \"/Graphics/body_vertical.png\";\n      } else if (prevSegment.y === nextSegment.y) {\n        return \"/Graphics/body_horizontal.png\";\n      } else {\n        // Coins\n        if (\n          (prevSegment.x < segment.x && nextSegment.y < segment.y) ||\n          (prevSegment.y < segment.y && nextSegment.x < segment.x)\n        ) {\n          return \"/Graphics/body_topleft.png\";\n        }\n        if (\n          (prevSegment.x > segment.x && nextSegment.y < segment.y) ||\n          (prevSegment.y < segment.y && nextSegment.x > segment.x)\n        ) {\n          return \"/Graphics/body_topright.png\";\n        }\n        if (\n          (prevSegment.x < segment.x && nextSegment.y > segment.y) ||\n          (prevSegment.y > segment.y && nextSegment.x < segment.x)\n        ) {\n          return \"/Graphics/body_bottomleft.png\";\n        }\n        if (\n          (prevSegment.x > segment.x && nextSegment.y > segment.y) ||\n          (prevSegment.y > segment.y && nextSegment.x > segment.x)\n        ) {\n          return \"/Graphics/body_bottomright.png\";\n        }\n      }\n    }\n    return \"/Graphics/body_horizontal.png\";\n  };\n\n  // Si le composant n'est pas encore mont√©, afficher un fallback simple\n  if (!isMounted) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold mb-4\">Snake Idle</h1>\n          <div className=\"text-gray-400\">Chargement du jeu...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col items-center min-h-screen\">\n      {/* En-t√™te avec onglets */}\n      <div className=\"w-full max-w-4xl mb-6\">\n        <h1 className=\"text-4xl font-bold text-center mb-4\">Snake Idle</h1>\n\n        {/* Onglets */}\n        <div className=\"flex justify-center mb-6\">\n          <div className=\"bg-gray-800 p-1 rounded-lg\">\n            <button\n              onClick={() => setActiveTab(\"game\")}\n              className={`px-6 py-2 rounded-md font-semibold transition-colors ${\n                activeTab === \"game\"\n                  ? \"bg-green-600 text-white\"\n                  : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n              }`}\n            >\n              üéÆ JEU\n            </button>\n            <button\n              onClick={() => setActiveTab(\"upgrades\")}\n              className={`px-6 py-2 rounded-md font-semibold transition-colors ml-2 ${\n                activeTab === \"upgrades\"\n                  ? \"bg-purple-600 text-white\"\n                  : \"text-gray-400 hover:text-white hover:bg-gray-700\"\n              }`}\n            >\n              üöÄ AM√âLIORATIONS\n            </button>\n          </div>\n        </div>\n\n        {/* Tableau des scores */}\n        <div className=\"text-center\">\n          <div className=\"grid grid-cols-6 gap-4 mb-4\">\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">PV</div>\n              <div\n                className={`text-2xl font-bold ${healthPoints <= 5 ? \"text-red-500\" : healthPoints <= 10 ? \"text-yellow-400\" : \"text-red-400\"}`}\n              >\n                ‚ù§Ô∏è {healthPoints}\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Points actuels</div>\n              <div className=\"text-2xl font-bold text-green-400\">\n                {currentPoints}\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Total accumul√©</div>\n              <div className=\"text-2xl font-bold text-yellow-400\">\n                {totalPoints}\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Meilleur score</div>\n              <div className=\"text-2xl font-bold text-purple-400\">\n                {highScore}\n              </div>\n            </div>\n            <div\n              className={`bg-gray-800 p-4 rounded-lg ${timeLeft <= 10 ? \"border-2 border-red-500\" : \"\"}`}\n            >\n              <div className=\"text-sm text-gray-400\">Temps restant</div>\n              <div\n                className={`text-2xl font-bold ${timeLeft <= 10 ? \"text-red-400\" : \"text-blue-400\"}`}\n              >\n                {timeLeft}s\n              </div>\n            </div>\n            <div className=\"bg-gray-800 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Valeur pomme</div>\n              <div className=\"text-2xl font-bold text-red-400\">\n                +{appleValue}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Contenu des onglets */}\n      {activeTab === \"game\" && (\n        <>\n          {/* Grille de jeu */}\n          <div className=\"relative bg-gray-800 p-4 rounded-lg shadow-2xl\">\n            <div\n              className=\"relative grid bg-gray-700 border-4 border-gray-600\"\n              style={{\n                gridTemplateColumns: `repeat(${gridWidth}, ${CELL_SIZE}px)`,\n                gridTemplateRows: `repeat(${gridHeight}, ${CELL_SIZE}px)`,\n              }}\n            >\n              {/* Grille de fond */}\n              {Array.from({ length: gridWidth * gridHeight }).map((_, index) => (\n                <div\n                  key={`cell-${index}`}\n                  className=\"border border-gray-600 bg-gray-750\"\n                />\n              ))}\n\n              {/* Nourriture */}\n              <div\n                className=\"absolute flex items-center justify-center\"\n                style={{\n                  left: `${food.x * CELL_SIZE}px`,\n                  top: `${food.y * CELL_SIZE}px`,\n                  width: `${CELL_SIZE}px`,\n                  height: `${CELL_SIZE}px`,\n                }}\n              >\n                <img\n                  src=\"/Graphics/apple.png\"\n                  alt=\"Food\"\n                  className=\"w-12 h-12\"\n                  onError={(e) => {\n                    console.error(\"Error loading apple.png\");\n                    e.currentTarget.style.display = \"none\";\n                  }}\n                />\n                <div\n                  className=\"w-8 h-8 bg-red-500 rounded-full\"\n                  style={{ display: \"none\" }}\n                  id=\"apple-fallback\"\n                />\n              </div>\n\n              {/* Snake */}\n              {snake.map((segment, index) => (\n                <div\n                  key={`snake-${index}`}\n                  className=\"absolute flex items-center justify-center\"\n                  style={{\n                    left: `${segment.x * CELL_SIZE}px`,\n                    top: `${segment.y * CELL_SIZE}px`,\n                    width: `${CELL_SIZE}px`,\n                    height: `${CELL_SIZE}px`,\n                  }}\n                >\n                  <img\n                    src={getSnakeImage(segment, index)}\n                    alt={`Snake segment ${index}`}\n                    className=\"w-16 h-16\"\n                  />\n                </div>\n              ))}\n            </div>\n\n            {/* Overlay de game over */}\n            {gameState === \"gameOver\" && (\n              <div className=\"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center rounded-lg\">\n                <div className=\"text-center\">\n                  <h2 className=\"text-3xl font-bold mb-2 text-red-400\">\n                    {timeLeft === 0\n                      ? \"Temps √©coul√©!\"\n                      : currentPoints === gridWidth * gridHeight - 1\n                        ? \"Parfait! Tableau rempli!\"\n                        : \"Game Over!\"}\n                  </h2>\n                  <p className=\"text-lg mb-4\">Score: {currentPoints}</p>\n                  <p className=\"text-sm text-gray-300 mb-4\">\n                    +{currentPoints} points ajout√©s au total!\n                  </p>\n                  {timeLeft === 0 && (\n                    <p className=\"text-sm text-blue-300 mb-4\">\n                      ‚è∞ Les 30 secondes sont termin√©es\n                    </p>\n                  )}\n                  {currentPoints === gridWidth * gridHeight - 1 && (\n                    <p className=\"text-sm text-green-300 mb-4\">\n                      üéâ Vous avez rempli tout le tableau!\n                    </p>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      {activeTab === \"upgrades\" && (\n        <UpgradeTree\n          upgrades={upgrades}\n          totalPoints={totalPoints}\n          currentPoints={currentPoints}\n          appleValue={appleValue}\n          gridWidth={gridWidth}\n          gridHeight={gridHeight}\n          timeBonus={timeBonus}\n          onBuyUpgrade={buyUpgrade}\n          onPlayGame={() => {\n            setActiveTab(\"game\");\n            if (gameState === \"idle\" || gameState === \"gameOver\") {\n              startGame();\n            }\n          }}\n          gameState={gameState}\n          saveUpgrades={saveUpgrades}\n          loadUpgrades={loadUpgrades}\n          applySavedUpgrades={applySavedUpgrades}\n          savedUpgrades={savedUpgrades}\n          healthBonus={healthBonus}\n        />\n      )}\n\n      {/* Contr√¥les - seulement dans l'onglet jeu */}\n      {activeTab === \"game\" && (\n        <div className=\"mt-6 text-center\">\n          {gameState === \"idle\" && (\n            <button\n              onClick={startGame}\n              className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors\"\n            >\n              Commencer √† jouer\n            </button>\n          )}\n\n          {gameState === \"gameOver\" && (\n            <button\n              onClick={startGame}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors\"\n            >\n              Rejouer\n            </button>\n          )}\n\n          {gameState === \"playing\" && (\n            <div className=\"text-sm text-gray-400\">\n              Utilisez les fl√®ches ou Z/Q/S/D pour contr√¥ler le snake\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Instructions - seulement dans l'onglet jeu */}\n      {activeTab === \"game\" && (\n        <div className=\"mt-6 text-center text-sm text-gray-500 max-w-md\">\n          <p className=\"mb-2\">\n            üéÆ <strong>Objectif:</strong> Ramassez les pommes pour gagner des\n            points\n          </p>\n          <p className=\"mb-2\">\n            üçé <strong>Points:</strong> Chaque pomme vaut {appleValue} point\n            {appleValue > 1 ? \"s\" : \"\"}\n          </p>\n          <p className=\"mb-2\">\n            ‚è∞ <strong>Temps:</strong> Vous avez 30 secondes par partie!\n          </p>\n          <p className=\"mb-2\">\n            üíé <strong>Idle:</strong> Vos points sont conserv√©s m√™me apr√®s la\n            mort!\n          </p>\n          <p>\n            üöÄ <strong>Am√©liorations:</strong> Utilisez vos points pour\n            d√©bloquer des bonus permanents!\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Composant UpgradeTree pour afficher l'arbre d'am√©liorations\nfunction UpgradeTree({\n  upgrades,\n  totalPoints,\n  currentPoints,\n  appleValue,\n  gridWidth,\n  gridHeight,\n  timeBonus,\n  onBuyUpgrade,\n  onPlayGame,\n  gameState,\n  saveUpgrades,\n  loadUpgrades,\n  applySavedUpgrades,\n  savedUpgrades,\n  healthBonus,\n}: {\n  upgrades: Upgrade[];\n  totalPoints: number;\n  currentPoints: number;\n  appleValue: number;\n  gridWidth: number;\n  gridHeight: number;\n  timeBonus: number;\n  onBuyUpgrade: (id: string) => void;\n  onPlayGame: () => void;\n  gameState: GameState;\n  saveUpgrades: () => void;\n  loadUpgrades: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  applySavedUpgrades: () => void;\n  savedUpgrades: any[];\n  healthBonus: number;\n}) {\n  const getUpgradeCost = (baseCost: number, level: number): number => {\n    return Math.floor(baseCost * Math.pow(1.5, level));\n  };\n\n  const getAvailablePoints = () => {\n    return totalPoints;\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl mx-auto\">\n      <div className=\"bg-gray-800 rounded-lg p-8 shadow-2xl\">\n        <h2 className=\"text-2xl font-bold text-center mb-8 text-purple-400\">\n          Arbre d'Am√©liorations\n        </h2>\n\n        {/* Liste d'am√©liorations */}\n        <div className=\"space-y-4 mb-16\">\n          {upgrades.map((upgrade) => {\n            const currentCost = getUpgradeCost(upgrade.baseCost, upgrade.level);\n            const availablePoints = getAvailablePoints();\n            const canAfford = availablePoints >= currentCost;\n            const isMaxed = upgrade.level >= upgrade.maxLevel;\n\n            return (\n              <div\n                key={upgrade.id}\n                className={`p-4 rounded-lg border-2 transition-all cursor-pointer ${\n                  !upgrade.unlocked\n                    ? \"bg-gray-900 border-gray-700 opacity-50\"\n                    : isMaxed\n                      ? \"bg-purple-900 border-purple-600\"\n                      : canAfford\n                        ? \"bg-gray-800 border-green-600 hover:bg-gray-750\"\n                        : \"bg-gray-800 border-gray-700 opacity-75\"\n                }`}\n                onClick={() =>\n                  upgrade.unlocked &&\n                  !isMaxed &&\n                  canAfford &&\n                  onBuyUpgrade(upgrade.id)\n                }\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <div className=\"text-lg font-bold text-gray-300\">\n                        {upgrade.id === \"appleValue\"\n                          ? \"POMMES\"\n                          : upgrade.id === \"healthBonus\"\n                            ? \"PV\"\n                            : upgrade.id === \"gridSize\"\n                              ? \"GRILLE\"\n                              : upgrade.id === \"timeBonus\"\n                                ? \"TEMPS\"\n                                : \"BONUS\"}\n                      </div>\n                      <h3 className=\"font-bold text-white\">{upgrade.name}</h3>\n                      <div className=\"text-sm text-gray-400\">\n                        Niv. {upgrade.level}/{upgrade.maxLevel}\n                      </div>\n                    </div>\n\n                    <p className=\"text-sm text-gray-400 mb-2\">\n                      {upgrade.description}\n                    </p>\n\n                    {!upgrade.unlocked && (\n                      <div className=\"text-sm text-yellow-400\">\n                        üîí Verrouill√© - N√©cessite Niv.\n                        {upgrade.requiredLevelValue} en{\" \"}\n                        {\n                          upgrades.find((u) => u.id === upgrade.requiredLevel)\n                            ?.name\n                        }\n                      </div>\n                    )}\n\n                    <div className=\"flex items-center gap-4 mt-2\">\n                      <div className=\"text-sm font-semibold text-gray-300\">\n                        Actuellement:\n                        {upgrade.id === \"appleValue\" &&\n                          ` +${appleValue} points/pomme`}\n                        {upgrade.id === \"healthBonus\" &&\n                          ` ${10 + healthBonus} PV de d√©part`}\n                        {upgrade.id === \"gridSize\" &&\n                          ` ${gridWidth}x${gridHeight}`}\n                        {upgrade.id === \"timeBonus\" &&\n                          ` +${timeBonus}s par partie`}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-col items-end ml-4\">\n                    {upgrade.unlocked && !isMaxed && (\n                      <div className=\"text-lg font-bold\">\n                        {canAfford ? (\n                          <span className=\"text-green-400\">\n                            {currentCost} pts\n                          </span>\n                        ) : (\n                          <span className=\"text-red-400\">\n                            {currentCost} pts\n                          </span>\n                        )}\n                      </div>\n                    )}\n\n                    {isMaxed && (\n                      <div className=\"text-lg font-bold text-purple-400\">\n                        MAX\n                      </div>\n                    )}\n\n                    {!upgrade.unlocked && (\n                      <div className=\"text-lg font-bold text-yellow-400\">\n                        üîí\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Bouton pour jouer - s√©par√© de la grille */}\n        <div className=\"border-t border-gray-700 pt-6\">\n          <div className=\"text-center\">\n            <button\n              onClick={onPlayGame}\n              className={`px-8 py-3 rounded-lg font-bold text-lg transition-colors ${\n                gameState === \"idle\" || gameState === \"gameOver\"\n                  ? \"bg-green-600 hover:bg-green-700 text-white\"\n                  : \"bg-blue-600 hover:bg-blue-700 text-white\"\n              }`}\n            >\n              {gameState === \"idle\"\n                ? \"üéÆ Commencer √† jouer\"\n                : gameState === \"gameOver\"\n                  ? \"üîÑ Rejouer\"\n                  : \"üéÆ Retourner au jeu\"}\n            </button>\n          </div>\n\n          {/* Statistiques */}\n          <div className=\"mt-6 grid grid-cols-3 gap-4 text-center\">\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Valeur des pommes</div>\n              <div className=\"text-xl font-bold text-red-400\">\n                +{appleValue}\n              </div>\n            </div>\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Bonus temps</div>\n              <div className=\"text-xl font-bold text-yellow-400\">\n                +{timeBonus}s\n              </div>\n            </div>\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <div className=\"text-sm text-gray-400\">Taille de la grille</div>\n              <div className=\"text-xl font-bold text-blue-400\">\n                {gridWidth}x{gridHeight}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}