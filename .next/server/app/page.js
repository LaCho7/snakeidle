(()=>{var e={};e.id=931,e.ids=[931],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},6552:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var l=s(3003),r=s(4293),a=s(6550),i=s.n(a),n=s(6979),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3455)),"C:\\Donn\xe9es\\_projet\\snakeidle\\snakeidle\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7973)),"C:\\Donn\xe9es\\_projet\\snakeidle\\snakeidle\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2075,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Donn\xe9es\\_projet\\snakeidle\\snakeidle\\src\\app\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new l.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2950:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,2639,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23)),Promise.resolve().then(s.t.bind(s,2816,23))},2298:()=>{},3987:(e,t,s)=>{Promise.resolve().then(s.bind(s,6009))},6009:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var l=s(8819),r=s(7266);function a(){let[e,t]=(0,r.useState)("idle"),[s,a]=(0,r.useState)(0),[n,d]=(0,r.useState)(0),[o,c]=(0,r.useState)(10),[u,p]=(0,r.useState)(0),[x,m]=(0,r.useState)(0),[g,h]=(0,r.useState)(30),[b,v]=(0,r.useState)(30),y=(0,r.useRef)(!1),[f,j]=(0,r.useState)(!1),[N,k]=(0,r.useState)([{x:1,y:1}]),[S,w]=(0,r.useState)("RIGHT"),[C,P]=(0,r.useState)([{position:{x:2,y:2},type:"apple"}]),[A,D]=(0,r.useState)(0),[L,B]=(0,r.useState)(0),[V,_]=(0,r.useState)(null),[E,G]=(0,r.useState)(0),[M,$]=(0,r.useState)([]),[F,q]=(0,r.useState)(!1),[T,O]=(0,r.useState)(0),[R,z]=(0,r.useState)(0),[I,U]=(0,r.useState)({x:2,y:2}),[H,W]=(0,r.useState)(null),[J,K]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)(""),[ee,et]=(0,r.useState)(""),es=e=>{let t=Math.floor(e/2);return{width:4+t,height:4+t+e%2}},[el,er]=(0,r.useState)(4),[ea,ei]=(0,r.useState)(4),en=(0,r.useRef)("RIGHT"),ed=(0,r.useRef)([{x:1,y:1}]),[eo,ec]=(0,r.useState)("game"),[eu,ep]=(0,r.useState)(1),[ex,em]=(0,r.useState)(0),[eg,eh]=(0,r.useState)(0),[eb,ev]=(0,r.useState)(0),[ey,ef]=(0,r.useState)([]),[ej,eN]=(0,r.useState)([{id:"appleValue",name:"Valeur des Pommes",description:"Augmente la valeur de chaque pomme r\xe9colt\xe9e",baseCost:10,level:0,maxLevel:20,unlocked:!0,position:{x:1,y:1},effect:()=>{}},{id:"healthBonus",name:"Points de Vie",description:"Augmente les PV de d\xe9part du serpent",baseCost:10,level:0,maxLevel:20,unlocked:!0,position:{x:1,y:3},effect:()=>{}},{id:"timeBonus",name:"Bonus Temps",description:"+2 secondes par partie",baseCost:50,level:0,maxLevel:10,unlocked:!1,requiredLevel:"appleValue",requiredLevelValue:3,position:{x:-1,y:1},effect:()=>{}},{id:"gridSize",name:"Taille de la Grille",description:"Agrandit le terrain de jeu",baseCost:25,level:0,maxLevel:6,unlocked:!1,requiredLevel:"appleValue",requiredLevelValue:3,position:{x:3,y:1},effect:()=>{}},{id:"speedBonus",name:"Vitesse",description:"Augmente la vitesse du serpent de 5%",baseCost:100,level:0,maxLevel:15,unlocked:!1,requiredLevel:"healthBonus",requiredLevelValue:5,position:{x:1,y:5},effect:()=>{}},{id:"blueFruit",name:"Fruit Bleu",description:"Active le fruit bleu. Effets : +1 PV, +2s temps/partie, 0.5x points (vs pomme rouge)",baseCost:200,level:0,maxLevel:10,unlocked:!1,requiredLevel:"gridSize",requiredLevelValue:2,position:{x:3,y:3},effect:()=>{}},{id:"goldenApple",name:"Pomme d'Or",description:"1% de chance par niveau d'appara\xeetre (valeur 10x normale)",baseCost:500,level:0,maxLevel:100,unlocked:!1,requiredLevel:"gridSize",requiredLevelValue:4,position:{x:5,y:3},effect:()=>{}},{id:"bombSystem",name:"Syst\xe8me Bombe",description:"Place des bombes explosives. Apparaissent apr\xe8s 5s de jeu. Si touch\xe9es : -75% PV. Si elles explosent seules : bonus al\xe9atoire parmi :\n• +0.1% permanent points/pomme\n• Double score 30s\n• +1 PV permanent\n• +10s temps de jeu",baseCost:1e3,level:0,maxLevel:10,unlocked:!1,requiredLevel:"gridSize",requiredLevelValue:3,position:{x:5,y:5},effect:()=>{}}]);(0,r.useCallback)(()=>{},[ej,s,x,eu,u,ex,eg,eb,J,A,L,T,el,ea,R]);let ek=(0,r.useCallback)(e=>e.map(t=>{if(!t.unlocked&&t.requiredLevel&&t.requiredLevelValue){let s=e.find(e=>e.id===t.requiredLevel);if(s&&s.level>=t.requiredLevelValue)return{...t,unlocked:!0}}return t}),[]),eS=(0,r.useCallback)((e,t)=>Math.floor(e*Math.pow(1.5,t)),[]),ew=(0,r.useCallback)(l=>{eN(r=>{let a=r.find(e=>e.id===l);return!a||a.level>=a.maxLevel||!a.unlocked||s<eS(a.baseCost,a.level)?r:ek(r.map(s=>{if(s.id===l){let r=s.level+1;if("appleValue"===l)ep(1+r);else if("healthBonus"===l)p(r);else if("gridSize"===l){let s=es(r);er(s.width),ei(s.height),"playing"===e&&(t("idle"),ec("game"))}else"timeBonus"===l?em(2*r):"speedBonus"===l?eh(5*r):"blueFruit"===l?(ev(1*r),K(!0)):"goldenApple"===l?D(r):"bombSystem"===l&&B(r);return{...s,level:r}}return s}))});let r=ej.find(e=>e.id===l);if(r){let e=eS(r.baseCost,r.level);a(t=>Math.max(0,t-e))}},[s,eS,e,ek]),eC=(0,r.useCallback)(()=>{},[ej,eu,ex,el,ea,s,x]),eP=(0,r.useCallback)(e=>{let t=e.target.files?.[0];if(!t)return;let s=new FileReader;s.onload=e=>{try{let t=JSON.parse(e.target?.result);t.savedUpgrades&&Array.isArray(t.savedUpgrades)&&(ef(t.savedUpgrades),t.gameState&&(ep(t.gameState.appleValue||1),p(t.gameState.healthBonus||0),em(t.gameState.timeBonus||0),eh(t.gameState.speedBonus||0),ev(t.gameState.blueFruitBonus||0),K(t.gameState.isBlueFruitActive||!1),er(t.gameState.gridWidth||4),ei(t.gameState.gridHeight||4),m(t.gameState.highScore||0)))}catch(e){console.error("Erreur lors du chargement des am\xe9liorations:",e),alert("Erreur: Le fichier de sauvegarde est invalide")}},s.readAsText(t)},[]),eA=(0,r.useCallback)(()=>{if(0===ey.length){alert("Aucune am\xe9lioration sauvegard\xe9e \xe0 appliquer");return}ep(1),p(0),em(0),eh(0),ev(0),K(!1),er(4),ei(4),eN(ej.map(e=>{let t=ey.find(t=>t.id===e.id);if(t){let s=t.level-e.level;if("appleValue"===e.id)ep(e=>e+s);else if("healthBonus"===e.id)p(e=>e+s);else if("timeBonus"===e.id)em(e=>e+2*t.level);else if("speedBonus"===e.id)eh(5*t.level);else if("blueFruit"===e.id)ev(1*t.level),K(!0);else if("gridSize"===e.id){let e=es(t.level);er(e.width),ei(e.height)}return t}return e})),ef([]),alert("Am\xe9liorations appliqu\xe9es avec succ\xe8s!")},[ey,ej]),eD=(0,r.useCallback)(()=>{Z?(X(!1),Y("")):"dev"===Q?(X(!0),alert("Mode d\xe9veloppeur activ\xe9 !")):alert("Mot de passe incorrect !")},[Z,Q]),eL=(0,r.useCallback)(()=>{let e=parseInt(ee);!isNaN(e)&&e>0?(a(t=>t+e),et(""),alert(`${e} points ajout\xe9s !`)):alert("Veuillez entrer un nombre valide !")},[ee]),eB=(0,r.useCallback)((e,t=[])=>{let s=[];for(let l=0;l<el;l++)for(let r=0;r<ea;r++){let a=e.some(e=>e.x===l&&e.y===r),i=t.some(e=>e.x===l&&e.y===r);a||i||s.push({x:l,y:r})}if(0===s.length)return null;let l=Math.floor(Math.random()*s.length);return s[l]},[el,ea]);(0,r.useCallback)(e=>eB(e),[eB]);let eV=(0,r.useCallback)(e=>{let t=[],s=[],l=0,r=(e,t)=>++l>100?null:eB(e,t),a=r(e,s);if(a&&(t.push({position:a,type:"apple"}),s.push(a)),A>0&&l<100&&Math.random()<.01*A){let l=r(e,s);l&&(t.push({position:l,type:"goldenApple"}),s.push(l))}if(J&&l<100){let l=r(e,s);l&&(t.push({position:l,type:"blueFruit"}),s.push(l))}return t},[A,J,eB]),e_=(0,r.useCallback)((e,t,s)=>{let l=eB([],[...e,...t.map(e=>e.position)]);return l?{position:l,type:s}:null},[eB]);(0,r.useCallback)((e,t)=>J?eB(e,[t]):null,[J,eB]);let eE=(0,r.useCallback)((e,t)=>{if(0===L||E<5||Math.random()>Math.min(.3,.05*L))return null;let s=eB([],[...e,...t.map(e=>e.position)]);if(!s)return null;let l=Math.max(5,15-L);return{position:s,timer:l,maxTimer:l,state:"active"}},[L,E,eB]);(0,r.useCallback)(()=>{let e=[{type:"permanentPoints",value:.1,permanent:!0},{type:"doubleScore",value:1,duration:30},{type:"extraHealth",value:1,permanent:!0},{type:"extraTime",value:10}],t=e[Math.floor(Math.random()*e.length)];switch(t.type){case"permanentPoints":O(e=>e+t.value);break;case"doubleScore":q(!0),$(e=>[...e,t]),setTimeout(()=>{q(!1),$(e=>e.filter(e=>"doubleScore"!==e.type))},1e3*t.duration);break;case"extraHealth":c(e=>e+t.value);break;case"extraTime":h(e=>e+t.value)}$(e=>[...e,t])},[]);let eG=()=>{let e=[{x:1,y:1}];if(ed.current=e,en.current="RIGHT",y.current=!1,k(e),w("RIGHT"),f){let t=eV(e);P(t);let s=t.find(e=>"apple"===e.type);s&&U(s.position);let l=t.find(e=>"blueFruit"===e.type);W(l?.position||null),_(eE(e,t))}else P([{position:{x:2,y:2},type:"apple"}]),U({x:2,y:2}),W(null),_(null);d(0),c(10+u),h(b+ex),z(0),G(0),t("playing")};(0,r.useCallback)(()=>{if("playing"!==e)return;let s=[...ed.current],l={...s[0]};switch(en.current){case"UP":l.y-=1;break;case"DOWN":l.y+=1;break;case"LEFT":l.x-=1;break;case"RIGHT":l.x+=1}if(l.x<0||l.x>=el||l.y<0||l.y>=ea){t("gameOver");return}if(V&&"active"===V.state&&l.x===V.position.x&&l.y===V.position.y){c(e=>{let s=Math.floor(.25*e);return s<=0&&t("gameOver"),s}),_(null);return}if((s.length>1?s.slice(0,-1):s).some(e=>e.x===l.x&&e.y===l.y)){t("gameOver");return}s.unshift(l);let r=!1,a=[];C.forEach((e,s)=>{if(l.x===e.position.x&&l.y===e.position.y){a.push(s);let l=0,r=0;switch(e.type){case"apple":l=eu,r=-1;break;case"goldenApple":l=10*eu,r=-1,z(3);break;case"blueFruit":l=Math.floor(eu/2),r=1,h(e=>e+2)}let i=1;R>0&&"goldenApple"!==e.type&&(i=3,z(e=>e-1));let n=l*(1+T/100)*i,o=F?2*n:n;d(e=>e+Math.floor(o)),c(e=>{let s=Math.min(e+r,10+u);return s<=0&&t("gameOver"),s})}});let i=[...C];if(a.length>0&&(i=i.filter((e,t)=>!a.includes(t)),r=!0),r){let e=[];a.forEach(t=>{let l=C[t];if(l){if("apple"===l.type){let t=e_(s,[...i,...e],"apple");t&&e.push(t)}else if("goldenApple"===l.type){if(Math.random()<.01*A){let t=e_(s,[...i,...e],"goldenApple");t&&e.push(t)}}else if("blueFruit"===l.type&&J){let t=e_(s,[...i,...e],"blueFruit");t&&e.push(t)}}});let l=[...i,...e];P(l);let r=l.find(e=>"apple"===e.type);r&&U(r.position);let n=l.find(e=>"blueFruit"===e.type);if(W(n?.position||null),V&&"active"===V.state||_(eE(s,l)),s.length>=el*ea){t("gameOver");return}}r||s.pop(),ed.current=s,k(s)},[C,V,e,e_,eE,el,ea,eu,A,J,T,F,R]),(0,r.useCallback)(e=>{let t=[...ed.current];if(t.length<=2)return!1;let s={...t[0]};switch(e){case"UP":s.y-=1;break;case"DOWN":s.y+=1;break;case"LEFT":s.x-=1;break;case"RIGHT":s.x+=1}return(t.length>1?t.slice(1,-1):[]).some(e=>e.x===s.x&&e.y===s.y)},[]);let eM=(e,t)=>{if(0===t)switch(S){case"UP":return"/Graphics/head_up.png";case"DOWN":return"/Graphics/head_down.png";case"LEFT":return"/Graphics/head_left.png";case"RIGHT":return"/Graphics/head_right.png"}else if(t===N.length-1){let s=N[t-1];if(s.x<e.x)return"/Graphics/tail_right.png";if(s.x>e.x)return"/Graphics/tail_left.png";if(s.y<e.y)return"/Graphics/tail_down.png";if(s.y>e.y)return"/Graphics/tail_up.png"}else{let s=N[t-1],l=N[t+1];if(s.x===l.x)return"/Graphics/body_vertical.png";if(s.y===l.y);else{if(s.x<e.x&&l.y<e.y||s.y<e.y&&l.x<e.x)return"/Graphics/body_topleft.png";if(s.x>e.x&&l.y<e.y||s.y<e.y&&l.x>e.x)return"/Graphics/body_topright.png";if(s.x<e.x&&l.y>e.y||s.y>e.y&&l.x<e.x)return"/Graphics/body_bottomleft.png";if(s.x>e.x&&l.y>e.y||s.y>e.y&&l.x>e.x)return"/Graphics/body_bottomright.png"}}return"/Graphics/body_horizontal.png"};return f?(0,l.jsxs)("div",{className:"flex flex-col items-center min-h-screen",children:[(0,l.jsxs)("div",{className:"w-full max-w-4xl mb-6",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-center mb-4",children:"Snake Idle"}),(0,l.jsx)("div",{className:"mb-4 text-center",children:Z?(0,l.jsxs)("div",{className:"bg-purple-900 bg-opacity-50 p-3 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-center items-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-purple-300 font-semibold",children:"Mode D\xe9veloppeur Activ\xe9"}),(0,l.jsx)("button",{onClick:eD,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"D\xe9sactiver"})]}),(0,l.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,l.jsx)("input",{type:"number",value:ee,onChange:e=>et(e.target.value),placeholder:"Nombre de points",className:"px-3 py-1 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none w-32",onKeyPress:e=>"Enter"===e.key&&eL()}),(0,l.jsx)("button",{onClick:eL,className:"px-4 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Ajouter Points"})]})]}):(0,l.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,l.jsx)("input",{type:"password",value:Q,onChange:e=>Y(e.target.value),placeholder:"Mot de passe dev",className:"px-3 py-1 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none",onKeyPress:e=>"Enter"===e.key&&eD()}),(0,l.jsx)("button",{onClick:eD,className:"px-4 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:"Activer Mode Dev"})]})}),(0,l.jsx)("div",{className:"flex justify-center mb-6",children:(0,l.jsxs)("div",{className:"bg-gray-800 p-1 rounded-lg",children:[(0,l.jsx)("button",{onClick:()=>ec("game"),className:`px-6 py-2 rounded-md font-semibold transition-colors ${"game"===eo?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:"\uD83C\uDFAE JEU"}),(0,l.jsx)("button",{onClick:()=>ec("upgrades"),className:`px-6 py-2 rounded-md font-semibold transition-colors ml-2 ${"upgrades"===eo?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:"\uD83D\uDE80 AM\xc9LIORATIONS"})]})}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"PV"}),(0,l.jsxs)("div",{className:`text-2xl font-bold ${o<=5?"text-red-500":o<=10?"text-yellow-400":"text-red-400"}`,children:["❤️ ",o]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Points actuels"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:n})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Total accumul\xe9"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:s})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Meilleur score"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:x})]}),(0,l.jsxs)("div",{className:`bg-gray-800 p-4 rounded-lg ${g<=10?"border-2 border-red-500":""}`,children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Temps restant"}),(0,l.jsxs)("div",{className:`text-2xl font-bold ${g<=10?"text-red-400":"text-blue-400"}`,children:[g,"s"]})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Valeur pomme"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-red-400",children:["+",eu]})]}),(F||T>0||R>0)&&(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Bonus actifs"}),(0,l.jsxs)("div",{className:"text-lg font-bold text-green-400",children:[F&&"2x ",T>0&&`+${T.toFixed(1)}% `,R>0&&(0,l.jsxs)("span",{className:"text-yellow-400",children:["\uD83C\uDF1F x3 (",R," rest.)"]})]})]}),L>0&&"playing"===e&&E<5&&(0,l.jsxs)("div",{className:`bg-gray-800 p-4 rounded-lg ${E>=3?"border-2 border-orange-500 animate-pulse":""}`,children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:E>=3?"⚠️ Bombes imminentes":"Bombes dans"}),(0,l.jsxs)("div",{className:`text-2xl font-bold ${E>=3?"text-orange-400":"text-yellow-400"}`,children:[5-E,"s"]})]})]})})]}),"game"===eo&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"relative bg-gray-800 p-4 rounded-lg shadow-2xl",children:[(0,l.jsxs)("div",{className:"relative grid bg-gray-700 border-4 border-gray-600",style:{gridTemplateColumns:`repeat(${el}, 80px)`,gridTemplateRows:`repeat(${ea}, 80px)`},children:[Array.from({length:el*ea}).map((e,t)=>(0,l.jsx)("div",{className:"border border-gray-600 bg-gray-750"},`cell-${t}`)),C.map((e,t)=>(0,l.jsxs)("div",{className:"absolute flex items-center justify-center",style:{left:`${80*e.position.x}px`,top:`${80*e.position.y}px`,width:"80px",height:"80px"},children:["apple"===e.type&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:"/Graphics/apple.png",alt:"Food",className:"w-12 h-12 opacity-90",onError:e=>{console.error("Error loading apple.png"),e.currentTarget.style.display="none"}}),(0,l.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full",style:{display:"none"},id:"apple-fallback"})]}),"goldenApple"===e.type&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:"/Graphics/golden_apple.png",alt:"Pomme d'or",className:"w-12 h-12 opacity-90",style:{filter:"brightness(1.2) contrast(1.1) drop-shadow(0 0 4px rgba(255, 215, 0, 0.6))"},onError:e=>{console.error("Error loading golden_apple.png"),e.currentTarget.style.display="none"}}),(0,l.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,l.jsx)("span",{className:"text-yellow-300 text-xs font-bold",children:"10x"}),(0,l.jsx)("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:"3x"})]})]}),(0,l.jsx)("div",{className:"w-8 h-8 bg-yellow-400 rounded-full",style:{display:"none"},id:"golden-apple-fallback"})]}),"blueFruit"===e.type&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:"/Graphics/blue_apple.png",alt:"Blue Fruit",className:"w-12 h-12 opacity-90",onError:e=>{console.error("Error loading blue_apple.png"),e.currentTarget.style.display="none"}}),(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full",style:{display:"none"},id:"blue-fruit-fallback"})]})]},`food-${t}`)),V&&"active"===V.state&&(0,l.jsx)("div",{className:"absolute flex items-center justify-center",style:{left:`${80*V.position.x}px`,top:`${80*V.position.y}px`,width:"80px",height:"80px"},children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-white ${V.timer<=3?"bg-red-600 animate-pulse":"bg-gray-700"}`,children:"\uD83D\uDCA3"}),(0,l.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:V.timer}),V.timer<=3&&(0,l.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-red-400 animate-ping"})]})}),N.map((e,t)=>(0,l.jsx)("div",{className:"absolute flex items-center justify-center",style:{left:`${80*e.x}px`,top:`${80*e.y}px`,width:"80px",height:"80px"},children:(0,l.jsx)("img",{src:eM(e,t),alt:`Snake segment ${t}`,className:"w-16 h-16"})},`snake-${t}`))]}),"gameOver"===e&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center rounded-lg",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold mb-2 text-red-400",children:0===g?"Temps \xe9coul\xe9!":n===el*ea-1?"Parfait! Tableau rempli!":"Game Over!"}),(0,l.jsxs)("p",{className:"text-lg mb-4",children:["Score: ",n]}),(0,l.jsxs)("p",{className:"text-sm text-gray-300 mb-4",children:["+",n," points ajout\xe9s au total!"]}),0===g&&(0,l.jsx)("p",{className:"text-sm text-blue-300 mb-4",children:"⏰ Les 30 secondes sont termin\xe9es"}),n===el*ea-1&&(0,l.jsx)("p",{className:"text-sm text-green-300 mb-4",children:"\uD83C\uDF89 Vous avez rempli tout le tableau!"})]})})]})}),"upgrades"===eo&&(0,l.jsx)(i,{upgrades:ej,totalPoints:s,currentPoints:n,appleValue:eu,gridWidth:el,gridHeight:ea,timeBonus:ex,speedBonus:eg,blueFruitBonus:eb,goldenAppleLevel:A,bombSystemLevel:L,onBuyUpgrade:ew,onPlayGame:()=>{ec("game"),("idle"===e||"gameOver"===e)&&eG()},gameState:e,saveUpgrades:eC,loadUpgrades:eP,applySavedUpgrades:eA,savedUpgrades:ey,healthBonus:u}),"game"===eo&&(0,l.jsxs)("div",{className:"mt-6 text-center",children:["idle"===e&&(0,l.jsx)("button",{onClick:eG,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors",children:"Commencer \xe0 jouer"}),"gameOver"===e&&(0,l.jsx)("button",{onClick:eG,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors",children:"Rejouer"}),"playing"===e&&(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Utilisez les fl\xe8ches ou Z/Q/S/D pour contr\xf4ler le snake"})]}),"game"===eo&&(0,l.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500 max-w-md",children:[(0,l.jsxs)("p",{className:"mb-2",children:["\uD83C\uDFAE ",(0,l.jsx)("strong",{children:"Objectif:"})," Ramassez les pommes pour gagner des points"]}),(0,l.jsxs)("p",{className:"mb-2",children:["\uD83C\uDF4E ",(0,l.jsx)("strong",{children:"Points:"})," Chaque pomme vaut ",eu," point",eu>1?"s":""]}),(0,l.jsxs)("p",{className:"mb-2",children:["⏰ ",(0,l.jsx)("strong",{children:"Temps:"})," Vous avez 30 secondes par partie!"]}),(0,l.jsxs)("p",{className:"mb-2",children:["\uD83D\uDC8E ",(0,l.jsx)("strong",{children:"Idle:"})," Vos points sont conserv\xe9s m\xeame apr\xe8s la mort!"]}),(0,l.jsxs)("p",{children:["\uD83D\uDE80 ",(0,l.jsx)("strong",{children:"Am\xe9liorations:"})," Utilisez vos points pour d\xe9bloquer des bonus permanents!"]}),(0,l.jsxs)("p",{className:"mb-2",children:["⭐ ",(0,l.jsx)("strong",{children:"Pomme d'Or:"})," Accorde un bonus x3 sur les 3 prochaines pommes mang\xe9es!"]})]})]}):(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Snake Idle"}),(0,l.jsx)("div",{className:"text-gray-400",children:"Chargement du jeu..."})]})})}function i({upgrades:e,totalPoints:t,currentPoints:s,appleValue:r,gridWidth:a,gridHeight:i,timeBonus:n,speedBonus:d,blueFruitBonus:o,goldenAppleLevel:c,bombSystemLevel:u,onBuyUpgrade:p,onPlayGame:x,gameState:m,saveUpgrades:g,loadUpgrades:h,applySavedUpgrades:b,savedUpgrades:v,healthBonus:y}){let f=(e,t)=>Math.floor(e*Math.pow(1.5,t)),j=()=>t;return(0,l.jsx)("div",{className:"w-full max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 shadow-2xl",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-center mb-8 text-purple-400",children:"Arbre d'Am\xe9liorations"}),(0,l.jsx)("div",{className:"space-y-4 mb-16",children:e.map(t=>{let s=f(t.baseCost,t.level),x=j()>=s,m=t.level>=t.maxLevel;return(0,l.jsx)("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${t.unlocked?m?"bg-purple-900 border-purple-600":x?"bg-gray-800 border-green-600 hover:bg-gray-750":"bg-gray-800 border-gray-700 opacity-75":"bg-gray-900 border-gray-700 opacity-50"}`,onClick:()=>t.unlocked&&!m&&x&&p(t.id),children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-gray-300",children:"appleValue"===t.id?"POMMES":"healthBonus"===t.id?"PV":"gridSize"===t.id?"GRILLE":"timeBonus"===t.id?"TEMPS":"speedBonus"===t.id?"VITESSE":"blueFruit"===t.id?"BLEU":"goldenApple"===t.id?"OR":"bombSystem"===t.id?"BOMBE":"BONUS"}),(0,l.jsx)("h3",{className:"font-bold text-white",children:t.name}),(0,l.jsxs)("div",{className:"text-sm text-gray-400",children:["Niv. ",t.level,"/",t.maxLevel]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:t.description}),!t.unlocked&&(0,l.jsxs)("div",{className:"text-sm text-yellow-400",children:["\uD83D\uDD12 Verrouill\xe9 - N\xe9cessite Niv.",t.requiredLevelValue," en"," ",e.find(e=>e.id===t.requiredLevel)?.name]}),(0,l.jsx)("div",{className:"flex items-center gap-4 mt-2",children:(0,l.jsxs)("div",{className:"text-sm font-semibold text-gray-300",children:["Actuellement:","appleValue"===t.id&&` +${r} points/pomme`,"healthBonus"===t.id&&` ${10+y} PV de d\xe9part`,"gridSize"===t.id&&` ${a}x${i}`,"timeBonus"===t.id&&` +${n}s par partie`,"speedBonus"===t.id&&` ${d}% de vitesse`,"blueFruit"===t.id&&(o>0?` +${o} PV, 0.5x points, +2s chrono/pomme`:" Pas poss\xe9d\xe9"),"goldenApple"===t.id&&(c>0?` ${c}% chance, valeur 10x`:" Non d\xe9bloqu\xe9"),"bombSystem"===t.id&&(u>0?` Niv.${u}, temps: ${15-u}s`:" Non d\xe9bloqu\xe9")]})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end ml-4",children:[t.unlocked&&!m&&(0,l.jsx)("div",{className:"text-lg font-bold",children:x?(0,l.jsxs)("span",{className:"text-green-400",children:[s," pts"]}):(0,l.jsxs)("span",{className:"text-red-400",children:[s," pts"]})}),m&&(0,l.jsx)("div",{className:"text-lg font-bold text-purple-400",children:"MAX"}),!t.unlocked&&(0,l.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:"\uD83D\uDD12"})]})]})},t.id)})}),(0,l.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{onClick:x,className:`px-8 py-3 rounded-lg font-bold text-lg transition-colors ${"idle"===m||"gameOver"===m?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"idle"===m?"\uD83C\uDFAE Commencer \xe0 jouer":"gameOver"===m?"\uD83D\uDD04 Rejouer":"\uD83C\uDFAE Retourner au jeu"})}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Valeur des pommes"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-red-400",children:["+",r]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Bonus temps"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-yellow-400",children:["+",n,"s"]})]}),(0,l.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Taille de la grille"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-blue-400",children:[a,"x",i]})]})]})]})]})})}},7973:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var l=s(9351),r=s(5384),a=s.n(r);s(5023);let i={title:"Snake Idle Game",description:"Un jeu de snake idle o\xf9 vous accumulez des points"};function n({children:e}){return(0,l.jsx)("html",{lang:"fr",children:(0,l.jsx)("body",{className:a().className,suppressHydrationWarning:!0,children:e})})}},3455:(e,t,s)=>{"use strict";s.a(e,async(e,l)=>{try{s.r(t),s.d(t,{default:()=>n});var r=s(9351),a=s(2922),i=e([a]);function n(){return(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Snake Idle"}),(0,r.jsx)("p",{className:"text-lg text-gray-300",children:"Jouez au snake et accumulez des points m\xeame apr\xe8s votre mort !"})]}),(0,r.jsx)(a.Z,{})]})}a=(i.then?(await i)():i)[0],l()}catch(e){l(e)}})},2922:(e,t,s)=>{"use strict";s.a(e,async(e,l)=>{try{s.d(t,{Z:()=>e});var r=s(1851);let e=(await (0,r.createProxy)(String.raw`C:\Données\_projet\snakeidle\snakeidle\src\components\SnakeGame.tsx`)).default;l()}catch(e){l(e)}},1)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),l=t.X(0,[859],()=>s(6552));module.exports=l})();